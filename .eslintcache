[{"C:\\dev\\coding-academy\\sprint4\\src\\index.js":"1","C:\\dev\\coding-academy\\sprint4\\src\\store\\store.js":"2","C:\\dev\\coding-academy\\sprint4\\src\\root-cmp.jsx":"3","C:\\dev\\coding-academy\\sprint4\\src\\store\\user.reducer.js":"4","C:\\dev\\coding-academy\\sprint4\\src\\store\\stay.reducer.js":"5","C:\\dev\\coding-academy\\sprint4\\src\\store\\review.reducer.js":"6","C:\\dev\\coding-academy\\sprint4\\src\\services\\user.service.js":"7","C:\\dev\\coding-academy\\sprint4\\src\\routes.js":"8","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\app-footer.jsx":"9","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\app-header.jsx":"10","C:\\dev\\coding-academy\\sprint4\\src\\services\\async-storage.service.js":"11","C:\\dev\\coding-academy\\sprint4\\src\\services\\event-bus.service.js":"12","C:\\dev\\coding-academy\\sprint4\\src\\store\\review.actions.js":"13","C:\\dev\\coding-academy\\sprint4\\src\\pages\\bnb-app.jsx":"14","C:\\dev\\coding-academy\\sprint4\\src\\services\\review.service.js":"15","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\header-filter.jsx":"16","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\header-profile.jsx":"17","C:\\dev\\coding-academy\\sprint4\\src\\store\\stay.actions.js":"18","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\stay-filter.jsx":"19","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\stay-list.jsx":"20","C:\\dev\\coding-academy\\sprint4\\src\\services\\stay.service.js":"21","C:\\dev\\coding-academy\\sprint4\\src\\services\\util.service.js":"22","C:\\dev\\coding-academy\\sprint4\\src\\hooks\\useFormRegister.js":"23","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\stay-preview.jsx":"24","C:\\dev\\coding-academy\\sprint4\\src\\hooks\\useEffectUpdate.js":"25"},{"size":815,"mtime":1663261198080,"results":"26","hashOfConfig":"27"},{"size":1035,"mtime":1663244457199,"results":"28","hashOfConfig":"27"},{"size":714,"mtime":1663440876335,"results":"29","hashOfConfig":"27"},{"size":1440,"mtime":1641996193000,"results":"30","hashOfConfig":"27"},{"size":1719,"mtime":1663258459252,"results":"31","hashOfConfig":"27"},{"size":669,"mtime":1641996193000,"results":"32","hashOfConfig":"27"},{"size":3281,"mtime":1663226096223,"results":"33","hashOfConfig":"27"},{"size":693,"mtime":1663336584529,"results":"34","hashOfConfig":"27"},{"size":428,"mtime":1663253652232,"results":"35","hashOfConfig":"27"},{"size":813,"mtime":1663336584523,"results":"36","hashOfConfig":"27"},{"size":2156,"mtime":1663335332680,"results":"37","hashOfConfig":"27"},{"size":1282,"mtime":1641996193000,"results":"38","hashOfConfig":"27"},{"size":1572,"mtime":1663222286981,"results":"39","hashOfConfig":"27"},{"size":1029,"mtime":1663257915924,"results":"40","hashOfConfig":"27"},{"size":1925,"mtime":1663227042285,"results":"41","hashOfConfig":"27"},{"size":104,"mtime":1663336584524,"results":"42","hashOfConfig":"27"},{"size":107,"mtime":1663336584525,"results":"43","hashOfConfig":"27"},{"size":4202,"mtime":1663265001907,"results":"44","hashOfConfig":"27"},{"size":1643,"mtime":1663441949912,"results":"45","hashOfConfig":"27"},{"size":328,"mtime":1663336751883,"results":"46","hashOfConfig":"27"},{"size":17994,"mtime":1663336659378,"results":"47","hashOfConfig":"27"},{"size":1294,"mtime":1641996193000,"results":"48","hashOfConfig":"27"},{"size":2347,"mtime":1663438131165,"results":"49","hashOfConfig":"27"},{"size":503,"mtime":1663337362958,"results":"50","hashOfConfig":"27"},{"size":308,"mtime":1663438094937,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"1timrjz",{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"54"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"54"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"54"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"54"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"54"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"54"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97"},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"54"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"54"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113"},"C:\\dev\\coding-academy\\sprint4\\src\\index.js",[],["114","115"],"C:\\dev\\coding-academy\\sprint4\\src\\store\\store.js",[],"C:\\dev\\coding-academy\\sprint4\\src\\root-cmp.jsx",[],"C:\\dev\\coding-academy\\sprint4\\src\\store\\user.reducer.js",[],"C:\\dev\\coding-academy\\sprint4\\src\\store\\stay.reducer.js",["116","117"],"const initialState = {\r\n    stays: [],\r\n    filterBy: null\r\n}\r\nexport function stayReducer(state = initialState, action) {\r\n    var newState = state\r\n    var stays\r\n    var stay\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            return { ...state, stays: action.stays }\r\n\r\n        case 'REMOVE_STAY':\r\n            const lastRemovedStay = state.stays.find(stay => stay._id === action.stayId)\r\n            stays = state.stays.filter(stay => stay._id !== action.stayId)\r\n            return { ...state, stays, lastRemovedStay }\r\n\r\n        case 'ADD_STAY':\r\n            return { ...state, stays: [...state.stays, action.stay] }\r\n\r\n        case 'UPDATE_STAY':\r\n            stays = state.stays.map(stay => (stay._id === action.stay._id) ? action.stay : stay)\r\n            return { ...state, stays }\r\n\r\n        case 'ADD_TO_CART':\r\n            return { ...state, stay: [...state.stay, action.stay] }\r\n\r\n        case 'REMOVE_FROM_CART':\r\n            stay = state.stay.filter(stay => stay._id !== action.stayId)\r\n            return { ...state, stay }\r\n\r\n        // case 'CLEAR_CART':\r\n        //     return  { ...state, stay: []}\r\n        //     \r\n        case 'StayUNDO_REMOVE_CART':\r\n            if (state.lastRemovedStay) {\r\n                return { ...state, stays: [...state.stays, state.lastRemovedStay], lastRemovedStay: null }\r\n            }\r\n\r\n        case 'SET_FILTER_BY':\r\n            return { ...state, filterBy: { ...action.filterBy } }\r\n        default:\r\n            return state;\r\n    }\r\n    // For debug:\r\n    // window.stayState = newState\r\n    // console.log('Prev State:', state)\r\n    // console.log('Action:', action)\r\n    // console.log('New State:', newState)\r\n    // return newState\r\n\r\n}\r\n","C:\\dev\\coding-academy\\sprint4\\src\\store\\review.reducer.js",[],"C:\\dev\\coding-academy\\sprint4\\src\\services\\user.service.js",["118","119"],"import { storageService } from './async-storage.service'\r\n// import { httpService } from './http.service'\r\nimport { getActionSetWatchedUser } from '../store/review.actions'\r\n// import { socketService, SOCKET_EVENT_USER_UPDATED, SOCKET_EMIT_USER_WATCH } from './socket.service'\r\nimport { showSuccessMsg } from '../services/event-bus.service'\r\n\r\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser,\r\n    saveLocalUser,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    changeScore\r\n}\r\n\r\nwindow.userService = userService\r\n\r\n\r\nfunction getUsers() {\r\n    return storageService.query('user')\r\n    // return httpService.get(`user`)\r\n}\r\n\r\nfunction onUserUpdate(user) {\r\n    showSuccessMsg(`This user ${user.fullname} just got updated from socket, new score: ${user.score}`)\r\n}\r\n\r\nasync function getById(userId) {\r\n    const user = await storageService.get('user', userId)\r\n    // const user = await httpService.get(`user/${userId}`)\r\n\r\n    // socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\r\n    // socketService.off(SOCKET_EVENT_USER_UPDATED, onUserUpdate)\r\n    // socketService.on(SOCKET_EVENT_USER_UPDATED, onUserUpdate)\r\n\r\n    return user\r\n}\r\nfunction remove(userId) {\r\n    return storageService.remove('user', userId)\r\n    // return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    await storageService.put('user', user)\r\n    // user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    if (getLoggedinUser()._id === user._id) saveLocalUser(user)\r\n    return user;\r\n}\r\n\r\nasync function login(userCred) {\r\n    const users = await storageService.query('user')\r\n    const user = users.find(user => user.username === userCred.username)\r\n    // const user = await httpService.post('auth/login', userCred)\r\n    if (user) {\r\n        // socketService.login(user._id)\r\n        return saveLocalUser(user)\r\n    }\r\n}\r\nasync function signup(userCred) {\r\n    userCred.score = 10000;\r\n    const user = await storageService.post('user', userCred)\r\n    // const user = await httpService.post('auth/signup', userCred)\r\n    // socketService.login(user._id)\r\n    return saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\r\n    // socketService.logout()\r\n    // return await httpService.post('auth/logout')\r\n}\r\n\r\nasync function changeScore(by) {\r\n    const user = getLoggedinUser()\r\n    if (!user) throw new Error('Not loggedin')\r\n    user.score = user.score + by || by\r\n    await update(user)\r\n    return user.score\r\n}\r\n\r\n\r\nfunction saveLocalUser(user) {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER))\r\n}\r\n\r\n\r\n// ;(async ()=>{\r\n//     await userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 10000, isAdmin: false})\r\n//     await userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 10000, isAdmin: true})\r\n//     await userService.signup({fullname: 'Muki G', username: 'muki', password:'123', score: 10000})\r\n// })()\r\n\r\n\r\n\r\n","C:\\dev\\coding-academy\\sprint4\\src\\routes.js",[],"C:\\dev\\coding-academy\\sprint4\\src\\cmps\\app-footer.jsx",[],"C:\\dev\\coding-academy\\sprint4\\src\\cmps\\app-header.jsx",["120"],"import { NavLink, useNavigate } from 'react-router-dom'\r\n\r\nimport { HeaderFilter } from './header-filter'\r\nimport { HeaderProfile } from './header-profile'\r\n\r\nimport logo from '../assets/img/logo48.png'\r\n\r\nexport function AppHeader() {\r\n\r\n    return (\r\n        <header className='app-header'>\r\n            <section className='container flex'>\r\n                <nav>\r\n                    <NavLink to='/'>\r\n                        <div className='logo-container flex'>\r\n                            <img src={logo} alt='logo' style={{ maxWidth: '37px' }} />\r\n                            <span>airbnb</span>\r\n                        </div>\r\n                    </NavLink>\r\n                </nav>\r\n                <HeaderFilter />\r\n                <HeaderProfile />\r\n            </section>\r\n        </header>\r\n    )\r\n}","C:\\dev\\coding-academy\\sprint4\\src\\services\\async-storage.service.js",[],"C:\\dev\\coding-academy\\sprint4\\src\\services\\event-bus.service.js",[],"C:\\dev\\coding-academy\\sprint4\\src\\store\\review.actions.js",["121","122"],"import { showSuccessMsg } from '../services/event-bus.service'\r\nimport { reviewService } from '../services/review.service'\r\nimport { userService } from '../services/user.service'\r\n\r\n// Action Creators\r\nexport function getActionRemoveReview(reviewId) {\r\n  return { type: 'REMOVE_REVIEW', reviewId }\r\n}\r\nexport function getActionAddReview(review) {\r\n  return { type: 'ADD_REVIEW', review }\r\n}\r\nexport function getActionSetWatchedUser(user) {\r\n  return { type: 'SET_WATCHED_USER', user }\r\n}\r\n\r\nexport function loadReviews() {\r\n  return async dispatch => {\r\n    try {\r\n      const reviews = await reviewService.query()\r\n      dispatch({ type: 'SET_REVIEWS', reviews })\r\n\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in loadReviews', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function addReview(review) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedReview = await reviewService.add(review)\r\n      dispatch(getActionAddReview(addedReview))\r\n\r\n      // Change the score in user kept in sessionStorage\r\n      // userService.saveLocalUser(addedReview.byUser)\r\n      // const { score } = addedReview.byUser\r\n      // dispatch({ type: 'SET_SCORE', score })\r\n\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in addReview', err)\r\n      throw err\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeReview(reviewId) {\r\n  return async dispatch => {\r\n    try {\r\n      await reviewService.remove(reviewId)\r\n      dispatch(getActionRemoveReview(reviewId))\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in removeReview', err)\r\n      throw err\r\n    }\r\n  }\r\n}\r\n","C:\\dev\\coding-academy\\sprint4\\src\\pages\\bnb-app.jsx",["123","124"],"import React, { useEffect, useState } from 'react'\r\n// import { connect } from 'react-redux'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { loadStays, setFilterBy } from '../store/stay.actions'\r\nimport { StayList } from '../cmps/stay-list'\r\nimport { StayFilter } from '../cmps/stay-filter'\r\n// import { stayService } from '../services/stay.service'\r\n// import {eventBusService } from '../services/event-bus.service'\r\n\r\nexport const BnbApp = () => {\r\n    const { stays } = useSelector(state => state.stayModule)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(loadStays())\r\n    }, [])\r\n\r\n    const onChangeFilter = (filterBy)=>{\r\n        dispatch(setFilterBy(filterBy))\r\n        dispatch(loadStays())\r\n    }\r\n\r\n    // console.log('stays app:', stays)\r\n    if (!stays) return <div>Loading...</div>\r\n    return (\r\n        <section className='bnbApp'>\r\n            <StayFilter onChangeFilter= {onChangeFilter}/>\r\n            <StayList stays={stays} />\r\n        </section>\r\n    )\r\n}","C:\\dev\\coding-academy\\sprint4\\src\\services\\review.service.js",["125"],"// import { httpService } from './http.service'\r\nimport { storageService } from './async-storage.service'\r\n// import { socketService, SOCKET_EVENT_REVIEW_ADDED, SOCKET_EVENT_REVIEW_ABOUT_YOU } from './socket.service'\r\nimport { getActionRemoveReview, getActionAddReview } from '../store/review.actions'\r\n\r\nconst reviewChannel = new BroadcastChannel('reviewChannel')\r\n\r\n// ;(() => {\r\n//   reviewChannel.addEventListener('message', (ev) => {\r\n//     store.dispatch(ev.data)\r\n//   })\r\n//   socketService.on(SOCKET_EVENT_REVIEW_ADDED, (review) => {\r\n//     console.log('GOT from socket', review)\r\n//     store.dispatch(getActionAddReview(review))\r\n//   })\r\n//   socketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, (review) => {\r\n//     showSuccessMsg(`New review about me ${review.txt}`)\r\n//   })\r\n// })()\r\n\r\n\r\n\r\nexport const reviewService = {\r\n  add,\r\n  query,\r\n  remove\r\n}\r\n\r\n\r\nfunction query(filterBy) {\r\n  var queryStr = (!filterBy) ? '' : `?name=${filterBy.name}&sort=anaAref`\r\n  // return httpService.get(`review${queryStr}`)\r\n  return storageService.query('review')\r\n}\r\n\r\nasync function remove(reviewId) {\r\n  // await httpService.delete(`review/${reviewId}`)\r\n  await storageService.remove('review', reviewId)\r\n  reviewChannel.postMessage(getActionRemoveReview(reviewId))\r\n\r\n\r\n}\r\nasync function add(review) {\r\n  // const addedReview = await httpService.post(`review`, review)\r\n\r\n  // review.byUser = userService.getLoggedinUser()\r\n  // review.aboutUser = await userService.getById(review.aboutUserId)\r\n  const addedReview = await storageService.post('review', review)\r\n\r\n  reviewChannel.postMessage(getActionAddReview(addedReview))\r\n\r\n  return addedReview\r\n}\r\n\r\n// This way, we can also subscribe to none-store data change\r\n// function subscribe(listener) {\r\n//   reviewChannel.addEventListener('message', listener)\r\n// }\r\n// function unsubscribe(listener) {\r\n//   reviewChannel.removeEventListener('message', listener)\r\n// }\r\n","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\header-filter.jsx",[],"C:\\dev\\coding-academy\\sprint4\\src\\cmps\\header-profile.jsx",[],"C:\\dev\\coding-academy\\sprint4\\src\\store\\stay.actions.js",[],"C:\\dev\\coding-academy\\sprint4\\src\\cmps\\stay-filter.jsx",["126"],"import { useFormRegister } from '../hooks/useFormRegister'\r\n// import { useEffect, useState } from 'react'\r\n\r\nexport const StayFilter = (props) => {\r\n\r\n    const [register, setFilter, filterBy] = useFormRegister({\r\n        name: '',\r\n        maxPrice: 1610,\r\n        minPrice: 50,\r\n        labels: '',\r\n    }, props.onChangeFilter)\r\n\r\n    console.log('filterBy:', filterBy)\r\n\r\n    return (\r\n        <form action=\"\">\r\n            <h1>filter</h1>\r\n            <section className='range-slider'>\r\n                {/* <span className='rangeValues'></span> */}\r\n                <input min=\"0\" max=\"1800\"  {...register('minPrice', 'range')} />\r\n                <input min=\"0\" max=\"1600\"  {...register('maxPrice', 'range')} />\r\n                {/* <input type=\"range\" min=\"10\" max = \"100\" value=\"10\"/>\r\n                <input type=\"range\" min=\"10\" max = \"100\" value=\"20\" /> */}\r\n                <div className='number-price-filter'>\r\n                    <input {...register('minPrice', 'number')} /> - <input {...register('maxPrice', 'number')} />\r\n                </div>\r\n            </section>\r\n\r\n\r\n            {/* <label htmlFor=\"maxPrice\">max price {filterBy.maxPrice ? filterBy.maxPrice : ''}</label>\r\n            <input {...register('maxPrice', 'range')} />\r\n\r\n            <label htmlFor=\"minPrice\">min price {filterBy.minPrice ? filterBy.minPrice : ''}</label>\r\n            <input {...register('minPrice', 'range')} /> */}\r\n\r\n            {/* <input type=\"button\" value=\"Click me\"/> */}\r\n\r\n            {/* <label htmlFor=\"Bedrooms\">Bedrooms</label>\r\n            <input {...register('Bedrooms', 'range')}/> */}\r\n\r\n\r\n\r\n        </form>\r\n    )\r\n}\r\n","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\stay-list.jsx",[],"C:\\dev\\coding-academy\\sprint4\\src\\services\\stay.service.js",["127","128"],"\r\nimport { storageService } from './async-storage.service.js'\r\nimport { utilService } from './util.service.js'\r\nimport { userService } from './user.service.js'\r\n\r\n// This file demonstrates how to use a BroadcastChannel to notify other browser tabs \r\n\r\nconst STORAGE_KEY = 'stay'\r\n\r\nvar gStays = [\r\n  {\r\n    \"_id\": \"100065419\",\r\n    \"name\": \"Lex Home in a Luxury Hotel\",\r\n    \"type\": \"House\",\r\n    \"imgUrls\": [\"https://a0.muscache.com/im/pictures/miso/Hosting-45510674/original/d86ddb6b-770f-4604-8273-941dba513879.jpeg?im_w=1200\", \"https://a0.muscache.com/im/pictures/miso/Hosting-45510674/original/e79d9487-0824-46ca-be68-f99a3393f64f.jpeg?im_w=1440\"],\r\n    \"price\": 80.00,\r\n    \"summary\": \"Fantastic duplex apartment with three bedrooms, located in the historic area of Porto, Ribeira (Cube)...\",\r\n    \"capacity\": {\"guests\": 2, \"bedroom\": 1, \"bed\": 1, \"bath\": 1  },\r\n    \"amenities\": [\r\n      \"Sea view\",\r\n      \"Kitchen\",\r\n      \"Free street parking\",\r\n      \"HDTV with Netflix, Roku, standard cable\",\r\n      \"Free washer – In unit\",\r\n      \"Beach access – Beachfront\",\r\n\t  \"Fast wifi – 110 Mbps\",\r\n\t  \"Shared outdoor pool - available seasonally, open specific hours\",\r\n\t  \"Elevator\"\r\n    ],\r\n    \"host\": {\r\n      \"_id\": \"u101\",\r\n      \"fullname\": \"Davit Pok\",\r\n      \"imgUrl\": \"https://a0.muscache.com/im/pictures/miso/Hosting-45510674/original/0a82e6ad-3368-4dc5-a8ca-a9e776a6867d.jpeg?im_w=1440\",\r\n    },\r\n    \"loc\": {\r\n      \"country\": \"Israel\",\r\n      \"countryCode\": \"IL\",\r\n      \"city\": \"Herzliya\",\r\n      \"address\": \"Ramat Yam St 60\",\r\n      \"lat\": -8.61308,\r\n      \"lng\": 41.1413\r\n    },\r\n    \"reviews\": [\r\n      {\r\n        \"id\": \"madeId\",\r\n        \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n        \"rate\": 4,\r\n        \"by\": {\r\n          \"_id\": \"u102\",\r\n          \"fullname\": \"user2\",\r\n          \"imgUrl\": \"/img/img2.jpg\"\r\n        }\r\n      }\r\n    ],\r\n    \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n  },\r\n  {\r\n    \"_id\": \"100065416\",\r\n    \"name\": \"Ribeira Charming Duplex\",\r\n    \"type\": \"House\",\r\n    \"imgUrls\": [\"https://a0.muscache.com/im/pictures/e83e702f-ef49-40fb-8fa0-6512d7e26e9b.jpg?aki_policy=large\", \"otherImg.jpg\"],\r\n    \"price\": 80.00,\r\n    \"summary\": \"Fantastic duplex apartment with three bedrooms, located in the historic area of Porto, Ribeira (Cube)...\",\r\n    \"capacity\": {\"guests\": 8, \"bedroom\": 4, \"bed\": 8, \"bath\": 3  },\r\n    \"amenities\": [\r\n      \"TV\",\r\n      \"Wifi\",\r\n      \"Kitchen\",\r\n      \"Smoking allowed\",\r\n      \"Pets allowed\",\r\n      \"Cooking basics\"\r\n    ],\r\n    \"host\": {\r\n      \"_id\": \"u101\",\r\n      \"fullname\": \"Davit Pok\",\r\n      \"imgUrl\": \"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small\",\r\n    },\r\n    \"loc\": {\r\n      \"country\": \"Israel\",\r\n      \"countryCode\": \"IL\",\r\n      \"city\": \"Tel Aviv-Yafo\",\r\n      \"address\": \"HaShah St 10\",\r\n      \"lat\": -8.61308,\r\n      \"lng\": 41.1413\r\n    },\r\n    \"reviews\": [\r\n      {\r\n        \"id\": \"madeId\",\r\n        \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n        \"rate\": 4,\r\n        \"by\": {\r\n          \"_id\": \"u102\",\r\n          \"fullname\": \"user2\",\r\n          \"imgUrl\": \"/img/img2.jpg\"\r\n        }\r\n      }\r\n    ],\r\n    \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n  },\r\n  {\r\n    \"_id\": \"100065418\",\r\n    \"name\": \"Sonder Court Square\",\r\n    \"type\": \"House\",\r\n    \"imgUrls\": [\"https://a0.muscache.com/im/pictures/prohost-api/Hosting-38674685/original/0df4183e-6c41-4892-a082-6c27fe21eeb0.jpeg?im_w=1200\", \"https://a0.muscache.com/im/pictures/prohost-api/Hosting-38674685/original/35c79d65-3a03-4282-94fd-105065c30c27.jpeg?im_w=720\",\"https://a0.muscache.com/im/pictures/prohost-api/Hosting-38674685/original/3a8b7b8d-0642-40f3-9666-a61566da8949.jpeg?im_w=1440\"],\r\n    \"price\": 247.00,\r\n    \"summary\": \"There's more to NYC than sleek skyscrapers — Court Square is your Long Island City hideaway full of red-brick industrial charm. Your space has a fully equipped kitchen, Roku streaming, and plenty of room to unwind. And there are endless adventures on your doorstep. Colorful street art and contemporary galleries fill this energetic neighborhood. Ready to dive in? MoMA PS1 has an impressive program of performances and exhibitions from resident artists. You can check out the live jazz bands at Domaine Bar à Vins. And Casa Enrique is our go-to spot for its Michelin-star takes on classic Mexican dishes. For a new view of New York, choose Court Square.\",\r\n    \"capacity\": {\"guests\": 6, \"bedroom\": 2, \"bed\": 3, \"bath\": 1  },\r\n    \"amenities\": [\r\n      \"TV\",\r\n      \"Wifi\",\r\n      \"Kitchen\",\r\n      \"Air conditioning\",\r\n      \"Refrigerator\",\r\n      \"Elevator\",\r\n\t  \"Hair dryer\",\r\n\t  \"Microwave\",\r\n\t  \"Long term stays allowed\"\r\n    ],\r\n    \"host\": {\r\n      \"_id\": \"u101\",\r\n      \"fullname\": \"Davit Pok\",\r\n      \"imgUrl\": \"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small\",\r\n    },\r\n    \"loc\": {\r\n      \"country\": \"United States\",\r\n      \"countryCode\": \"US\",\r\n      \"city\": \"Queens\",\r\n      \"address\": \"45-06 Pearson St\",\r\n      \"lat\": -8.61308,\r\n      \"lng\": 41.1413\r\n    },\r\n    \"reviews\": [\r\n      {\r\n        \"id\": \"madeId\",\r\n        \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n        \"rate\": 4,\r\n        \"by\": {\r\n          \"_id\": \"u102\",\r\n          \"fullname\": \"user2\",\r\n          \"imgUrl\": \"/img/img2.jpg\"\r\n        }\r\n      }\r\n    ],\r\n    \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n  },\r\n  {\r\n    \"_id\": \"100065417\",\r\n    \"name\": \"Sonder Court Square\",\r\n    \"type\": \"House\",\r\n    \"imgUrls\": [\"https://a0.muscache.com/im/pictures/prohost-api/Hosting-564602702188075826/original/5f8b373d-1d8c-40fe-93aa-beab390cb393.jpeg?im_w=1200\", \"https://a0.muscache.com/im/pictures/prohost-api/Hosting-564602702188075826/original/2357c215-0f37-428c-b091-0bf63fb29d14.jpeg?im_w=1440\"],\r\n    \"price\": 247.00,\r\n    \"summary\": \"There's more to NYC than sleek skyscrapers — Court Square is your Long Island City hideaway full of red-brick industrial charm. Your space has a fully equipped kitchen, Roku streaming, and plenty of room to unwind. And there are endless adventures on your doorstep. Colorful street art and contemporary galleries fill this energetic neighborhood. Ready to dive in? MoMA PS1 has an impressive program of performances and exhibitions from resident artists. You can check out the live jazz bands at Domaine Bar à Vins. And Casa Enrique is our go-to spot for its Michelin-star takes on classic Mexican dishes. For a new view of New York, choose Court Square.\",\r\n    \"capacity\": {\"guests\": 6, \"bedroom\": 2, \"bed\": 3, \"bath\": 1  },\r\n    \"amenities\": [\r\n      \"TV\",\r\n      \"Wifi\",\r\n      \"Kitchen\",\r\n      \"Air conditioning\",\r\n      \"Refrigerator\",\r\n      \"Elevator\",\r\n\t  \"Hair dryer\",\r\n\t  \"Microwave\",\r\n\t  \"Long term stays allowed\"\r\n    ],\r\n    \"host\": {\r\n      \"_id\": \"u101\",\r\n      \"fullname\": \"Davit Pok\",\r\n      \"imgUrl\": \"https://a0.muscache.com/im/pictures/prohost-api/Hosting-564602702188075826/original/5f8b373d-1d8c-40fe-93aa-beab390cb393.jpeg?im_w=1200\",\r\n    },\r\n    \"loc\": {\r\n      \"country\": \"Portugal\",\r\n      \"countryCode\": \"PT\",\r\n      \"city\": \"Porto\",\r\n      \"address\": \"17 Kombo st\",\r\n      \"lat\": -8.61308,\r\n      \"lng\": 41.1413\r\n    },\r\n    \"reviews\": [\r\n      {\r\n        \"id\": \"madeId\",\r\n        \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n        \"rate\": 4,\r\n        \"by\": {\r\n          \"_id\": \"u102\",\r\n          \"fullname\": \"user2\",\r\n          \"imgUrl\": \"/img/img2.jpg\"\r\n        }\r\n      }\r\n    ],\r\n    \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n  } ,\r\n  {\r\n    \"_id\": \"100065416\",\r\n    \"name\": \"Sonder at One Platt\",\r\n    \"type\": \"House\",\r\n    \"imgUrls\": [\"https://a0.muscache.com/im/pictures/prohost-api/Hosting-38674685/original/0df4183e-6c41-4892-a082-6c27fe21eeb0.jpeg?im_w=1200\", \"https://a0.muscache.com/im/pictures/prohost-api/Hosting-38674685/original/35c79d65-3a03-4282-94fd-105065c30c27.jpeg?im_w=720\",\"https://a0.muscache.com/im/pictures/prohost-api/Hosting-38674685/original/3a8b7b8d-0642-40f3-9666-a61566da8949.jpeg?im_w=1440\"],\r\n    \"price\": 350.00,\r\n    \"summary\": \"Set yourself up for success at One Platt. A top choice for a remarkable New York stay. Each space features chic decor, a fully equipped kitchen, and access to the state-of-the-art fitness center. Looking for that iconic New York City skyline? The seasonal rooftop overlooks the city and Brooklyn Bridge. Our expansive lounge, communal kitchen, and co-working space are all yours to enjoy.\",\r\n    \"capacity\": {\"guests\": 6, \"bedroom\": 2, \"bed\": 2, \"bath\": 2  },\r\n    \"amenities\": [\r\n      \"TV\",\r\n      \"Wifi\",\r\n      \"Kitchen\",\r\n      \"Air conditioning\",\r\n      \"Refrigerator\",\r\n      \"Gym\",\r\n\t  \"Elevator\",\r\n\t  \"Hair dryer\",\r\n\t  \"Microwave\",\r\n\t  \"Long term stays allowed\"\r\n    ],\r\n    \"host\": {\r\n      \"_id\": \"u101\",\r\n      \"fullname\": \"Davit Pok\",\r\n      \"imgUrl\": \"https://a0.muscache.com/im/pictures/prohost-api/Hosting-38674685/original/0df4183e-6c41-4892-a082-6c27fe21eeb0.jpeg?im_w=1200\",\r\n    },\r\n    \"loc\": {\r\n      \"country\": \"United States\",\r\n      \"countryCode\": \"USA\",\r\n      \"city\": \"New York\",\r\n      \"address\": \"1 Platt St\",\r\n      \"lat\": -8.61308,\r\n      \"lng\": 41.1413\r\n    },\r\n    \"reviews\": [\r\n      {\r\n        \"id\": \"madeId\",\r\n        \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n        \"rate\": 4,\r\n        \"by\": {\r\n          \"_id\": \"u102\",\r\n          \"fullname\": \"user2\",\r\n          \"imgUrl\": \"/img/img2.jpg\"\r\n        }\r\n      }\r\n    ],\r\n    \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n  },\r\n  {\r\n    \"_id\": \"1000654120\",\r\n    \"name\": \"Beach front \",\r\n    \"type\": \"Entire villa\",\r\n    \"imgUrls\": [\"https://a0.muscache.com/im/pictures/0720a152-5aff-492d-b57b-8b4c39e5b9af.jpg?im_w=1200\", \"https://a0.muscache.com/im/pictures/45743e9f-cda9-4adb-954f-57001897fe95.jpg?im_w=1440\", \"https://a0.muscache.com/im/pictures/6944b027-0ac3-408f-8d49-45e651ef99ba.jpg?im_w=1440\"],\r\n    \"price\": 1610.00,\r\n    \"summary\": \"This superb 7 bedroom gated beach front estate in Agios Theodoros offers ultimate luxury for an unforgettable holiday in Cyprus. Access directly to the beach is through the gate located at the end of the lawn area. The beautiful gardens together with the unobstructed views of the Mediterranean Sea makes this estate a perfect setting for a wedding ceremony and reception. Canoes and paddle boards are also available for guests to use.\",\r\n    \"capacity\": {\"guests\": 16, \"bedroom\": 7, \"bed\": 11, \"bath\": 6  },\r\n    \"amenities\": [\r\n      \"Bay view\",\r\n      \"Wifi\",\r\n      \"Private pool\",\r\n      \"Garden view\",\r\n      \"Kitchen\",\r\n      \"Free parking on premises\",\r\n\t  \"TV\",\r\n\t  \"Hair dryer\",\r\n\t  \"Air conditioning\"\r\n    ],\r\n    \"host\": {\r\n      \"_id\": \"u101\",\r\n      \"fullname\": \"Davit Pok\",\r\n      \"imgUrl\": \"https://a0.muscache.com/im/pictures/miso/Hosting-45510674/original/0a82e6ad-3368-4dc5-a8ca-a9e776a6867d.jpeg?im_w=1440\",\r\n    },\r\n    \"loc\": {\r\n      \"country\": \"Cyprus\",\r\n      \"countryCode\": \"CYP\",\r\n      \"city\": \"Oroklini, Larnaca\",\r\n      \"address\": \"34 Mesopotamias Street\",\r\n      \"lat\": -8.61308,\r\n      \"lng\": 41.1413\r\n    },\r\n    \"reviews\": [\r\n      {\r\n        \"id\": \"madeId\",\r\n        \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n        \"rate\": 4,\r\n        \"by\": {\r\n          \"_id\": \"u102\",\r\n          \"fullname\": \"user2\",\r\n          \"imgUrl\": \"/img/img2.jpg\"\r\n        }\r\n      }\r\n    ],\r\n    \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n  },\r\n  {\r\n    \"_id\": \"1000654152\",\r\n    \"name\": \"Protaras Holiday Villa CR3\",\r\n    \"type\": \"Entire villa\",\r\n    \"imgUrls\": [\"https://a0.muscache.com/im/pictures/prohost-api/Hosting-43161516/original/1acde0cf-3363-44d8-a707-59403ed74442.jpeg?im_w=1200\", \"https://a0.muscache.com/im/pictures/prohost-api/Hosting-43161516/original/59c1f72a-505f-4487-9230-0f3a8aadb1cc.jpeg?im_w=1440\", \"https://a0.muscache.com/im/pictures/prohost-api/Hosting-43161516/original/32c1b96e-18ed-415e-9356-9f35ec6f38a7.jpeg?im_w=1440\"],\r\n    \"price\": 375.00,\r\n    \"summary\": \"This superb 7 bedroom gated beach front estate in Agios Theodoros offers ultimate luxury for an unforgettable holiday in Cyprus. Access directly to the beach is through the gate located at the end of the lawn area. The beautiful gardens together with the unobstructed views of the Mediterranean Sea makes this estate a perfect setting for a wedding ceremony and reception. Canoes and paddle boards are also available for guests to use.\",\r\n    \"capacity\": {\"guests\": 16, \"bedroom\": 7, \"bed\": 11, \"bath\": 6  },\r\n    \"amenities\": [\r\n      \"Bay view\",\r\n      \"Wifi\",\r\n      \"Private pool\",\r\n      \"Garden view\",\r\n      \"Kitchen\",\r\n      \"Free parking on premises\",\r\n\t  \"TV\",\r\n\t  \"Hair dryer\",\r\n\t  \"Air conditioning\"\r\n    ],\r\n    \"host\": {\r\n      \"_id\": \"u101\",\r\n      \"fullname\": \"Davit Pok\",\r\n      \"imgUrl\": \"https://a0.muscache.com/im/pictures/miso/Hosting-45510674/original/0a82e6ad-3368-4dc5-a8ca-a9e776a6867d.jpeg?im_w=1440\",\r\n    },\r\n    \"loc\": {\r\n      \"country\": \"Cyprus\",\r\n      \"countryCode\": \"CYP\",\r\n      \"city\": \"Oroklini, Larnaca\",\r\n      \"address\": \"34 Mesopotamias Street\",\r\n      \"lat\": -8.61308,\r\n      \"lng\": 41.1413\r\n    },\r\n    \"reviews\": [\r\n      {\r\n        \"id\": \"madeId\",\r\n        \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n        \"rate\": 4,\r\n        \"by\": {\r\n          \"_id\": \"u102\",\r\n          \"fullname\": \"user2\",\r\n          \"imgUrl\": \"/img/img2.jpg\"\r\n        }\r\n      }\r\n    ],\r\n    \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n  },\r\n  {\r\n    \"_id\": \"1000654123\",\r\n    \"name\": \"Luxury Seaview Apartment\",\r\n    \"type\": \"Entire rental unit\",\r\n    \"imgUrls\": [\"https://a0.muscache.com/im/pictures/a4219879-1fca-4cce-a219-cde3f265cd6b.jpg?im_w=1200\",\"https://a0.muscache.com/im/pictures/b5844832-dc82-4139-bc09-645d875d6c8b.jpg?im_w=1440\",\"https://a0.muscache.com/im/pictures/3d47749f-55c8-4450-92d6-8282d1ff5c13.jpg?im_w=1440\"],\r\n    \"price\": 123.00,\r\n    \"summary\": \"Two bedroom apartment in the brand new, modern complex The Pearl! \\\"The view\\\" overlooking the Mediterranean Sea, private swimming pool, private parking, and our wonderful receptionist make our apartment a stand out in the area!\",\r\n    \"capacity\": {\"guests\": 5, \"bedroom\": 2, \"bed\": 2, \"bath\": 2  },\r\n    \"amenities\": [\r\n      \"Marina view\",\r\n      \"Wifi\",\r\n      \"Beach access\",\r\n      \"Free parking on premises\",\r\n      \"Ocean view\",\r\n      \"Kitchen\",\r\n\t  \"Dedicated workspace\",\r\n\t  \"Shared pool\"\r\n    ],\r\n    \"host\": {\r\n      \"_id\": \"u101\",\r\n      \"fullname\": \"Davit Pok\",\r\n      \"imgUrl\": \"https://a0.muscache.com/im/pictures/miso/Hosting-45510674/original/0a82e6ad-3368-4dc5-a8ca-a9e776a6867d.jpeg?im_w=1440\",\r\n    },\r\n    \"loc\": {\r\n      \"country\": \"Cyprus\",\r\n      \"countryCode\": \"CYP\",\r\n      \"city\": \"Larnaca\",\r\n      \"address\": \"Umm Haram 89 Marethea court 6\",\r\n      \"lat\": -8.61308,\r\n      \"lng\": 41.1413\r\n    },\r\n    \"reviews\": [\r\n      {\r\n        \"id\": \"madeId\",\r\n        \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n        \"rate\": 4,\r\n        \"by\": {\r\n          \"_id\": \"u102\",\r\n          \"fullname\": \"user2\",\r\n          \"imgUrl\": \"/img/img2.jpg\"\r\n        }\r\n      }\r\n    ],\r\n    \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n  }\r\n]\r\n\r\nexport const stayService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove\r\n}\r\nwindow.cs = stayService\r\n\r\nfunction query(filterBy) {\r\n    return storageService.query(STORAGE_KEY).then(stays => {\r\n      console.log('stays:', stays)\r\n      if (!stays[0]){\r\n        console.log('query:',stays )\r\n        stays = storageService.postMany(STORAGE_KEY, gStays).then(x => console.log(x))\r\n      }\r\n        if (filterBy) {\r\n            let { maxPrice, minPrice } = filterBy\r\n            if (!maxPrice) maxPrice = Infinity\r\n            if (!minPrice) minPrice = 0\r\n            stays = stays.filter(stay => stay.price <= maxPrice && stay.price >= minPrice)\r\n            return stays\r\n        }\r\n        return stays\r\n    }\r\n    )\r\n}\r\n\r\nfunction getById(stayId) {\r\n    return storageService.get(STORAGE_KEY, stayId)\r\n    // return axios.get(`/api/stay/${stayId}`)\r\n}\r\nasync function remove(stayId) {\r\n    await storageService.remove(STORAGE_KEY, stayId)\r\n}\r\nasync function save(stay) {\r\n    var savedStay\r\n    if (stay._id) {\r\n        savedStay = await storageService.put(STORAGE_KEY, stay)\r\n\r\n    } else {\r\n        // Later, owner is set by the backend\r\n        let newStay = _getEmptyStay()\r\n        newStay.name = stay.name\r\n        newStay.price =stay.price\r\n        console.log('newStay:', newStay)\r\n        savedStay = await storageService.post(STORAGE_KEY, newStay)\r\n    }\r\n    return savedStay\r\n}\r\n\r\nfunction _getEmptyStay(){\r\n    return     {\r\n        \"type\": \"House\",\r\n        \"imgUrls\": [\"https://a0.muscache.com/im/pictures/e83e702f-ef49-40fb-8fa0-6512d7e26e9b.jpg?aki_policy=large\", \"otherImg.jpg\"],\r\n        \"summary\": \"Fantastic duplex apartment with three bedrooms, located in the historic area of Porto, Ribeira (Cube)...\",\r\n        \"capacity\": 8,\r\n        \"amenities\": [\r\n          \"TV\",\r\n          \"Wifi\",\r\n          \"Kitchen\",\r\n          \"Smoking allowed\",\r\n          \"Pets allowed\",\r\n          \"Cooking basics\"\r\n        ],\r\n        \"host\": {\r\n          \"_id\": \"u101\",\r\n          \"fullname\": \"Davit Pok\",\r\n          \"imgUrl\": \"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small\",\r\n        },\r\n        \"loc\": {\r\n          \"country\": \"Portugal\",\r\n          \"countryCode\": \"PT\",\r\n          \"city\": \"Porto\",\r\n          \"address\": \"17 Kombo st\",\r\n          \"lat\": -8.61308,\r\n          \"lng\": 41.1413\r\n        },\r\n        \"reviews\": [\r\n          {\r\n            \"id\": \"madeId\",\r\n            \"txt\": \"Very helpful hosts. Cooked traditional...\",\r\n            \"rate\": 4,\r\n            \"by\": {\r\n              \"_id\": \"u102\",\r\n              \"fullname\": \"user2\",\r\n              \"imgUrl\": \"/img/img2.jpg\"\r\n            }\r\n          }\r\n        ],\r\n        \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\r\n      }\r\n\r\n}\r\n\r\n\r\n","C:\\dev\\coding-academy\\sprint4\\src\\services\\util.service.js",[],"C:\\dev\\coding-academy\\sprint4\\src\\hooks\\useFormRegister.js",["129"],"import { useEffect, useState } from \"react\"\nimport { useEffectUpdate } from \"./useEffectUpdate\"\n\nexport const useFormRegister = (initialState, callBack) => {\n\n    const [fields, setFields] = useState(initialState)\n\n    useEffectUpdate(() => {\n        if (callBack) callBack(fields)\n    }, [fields])\n\n    const handleChange = ({ target }) => {\n        const field = target.name\n        let value = target.value\n\n        switch (target.type) {\n            case 'number':\n            case 'range':\n                value = +target.value || ''\n                break;\n            case 'checkbox':\n                value = target.checked\n                break;\n            case 'date':\n                value = new Date(value)\n                break;\n            case 'time':\n                const newDate = new Date()\n                const hours = value.split(':')[0]\n                const minutes = value.split(':')[1]\n                newDate.setHours(hours)\n                newDate.setMinutes(minutes)\n                value = newDate\n                break\n            default:\n                break\n        }\n        setFields(prevFields => ({ ...prevFields, [field]: value }))\n    }\n\n    const getFormattedDate = (value) => {\n        const valueDate = new Date(value)\n        return `${valueDate.getFullYear()}-${(valueDate.getMonth() + 1 + '').padStart(2, '0')}-${(valueDate.getDate() + '').padStart(2, '0')}`\n    }\n    const getFormattedTime = (value) => {\n        const valueTime = new Date(value)\n        return `${(valueTime.getHours() + '').padStart(2, '0')}:${(valueTime.getMinutes() + '').padStart(2, '0')}`\n    }\n    const register = (field, type = '', value) => { // value only used when type === 'radio'\n        const inputProp = {\n            onChange: handleChange,\n            name: field,\n            id: field,\n            value: fields[field],\n            type\n        }\n        if (type === 'checkbox') inputProp.checked = fields[field]\n        if (type === 'date') inputProp.value = getFormattedDate(fields[field])\n        if (type === 'time') inputProp.value = getFormattedTime(fields[field])\n        if (type === 'radio') {\n            inputProp.value = value\n            inputProp.id = value\n            inputProp.checked = fields[field] === value\n        }\n        return inputProp\n    }\n    return [register, setFields, fields]\n}","C:\\dev\\coding-academy\\sprint4\\src\\cmps\\stay-preview.jsx",["130"],"import React from \"react\";\r\n\r\nexport function StayPreview({ stay }) {\r\n    return (\r\n        <React.Fragment>\r\n            <div><img src={stay.imgUrls[0]}/></div>\r\n            <div>\r\n                <h4>{stay.loc.city}, {stay.loc.country}</h4>\r\n                <p>{stay.loc.address}, {stay.loc.city}</p>\r\n                <p>{stay.capacity.guests} bads</p>\r\n                <p>Oct 12-18</p>\r\n                <p>$<span>{stay.price}</span> night</p>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}","C:\\dev\\coding-academy\\sprint4\\src\\hooks\\useEffectUpdate.js",["131","132"],"import { useEffect, useRef } from \"react\"\n\nexport const useEffectUpdate = (callBack, dependencies) => {\n    \n    const isFirst = useRef(true)\n\n    useEffect(()=>{\n        if (isFirst.current) {\n            isFirst.current = false\n            return\n        }   \n        callBack()\n    }, dependencies)\n    \n}",{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","replacedBy":"136"},{"ruleId":"137","severity":1,"message":"138","line":6,"column":9,"nodeType":"139","messageId":"140","endLine":6,"endColumn":17},{"ruleId":"141","severity":1,"message":"142","line":40,"column":9,"nodeType":"143","messageId":"144","endLine":41,"endColumn":66},{"ruleId":"137","severity":1,"message":"145","line":3,"column":10,"nodeType":"139","messageId":"140","endLine":3,"endColumn":33},{"ruleId":"137","severity":1,"message":"146","line":30,"column":10,"nodeType":"139","messageId":"140","endLine":30,"endColumn":22},{"ruleId":"137","severity":1,"message":"147","line":1,"column":19,"nodeType":"139","messageId":"140","endLine":1,"endColumn":30},{"ruleId":"137","severity":1,"message":"148","line":1,"column":10,"nodeType":"139","messageId":"140","endLine":1,"endColumn":24},{"ruleId":"137","severity":1,"message":"149","line":3,"column":10,"nodeType":"139","messageId":"140","endLine":3,"endColumn":21},{"ruleId":"137","severity":1,"message":"150","line":1,"column":28,"nodeType":"139","messageId":"140","endLine":1,"endColumn":36},{"ruleId":"151","severity":1,"message":"152","line":17,"column":8,"nodeType":"153","endLine":17,"endColumn":10,"suggestions":"154"},{"ruleId":"137","severity":1,"message":"155","line":31,"column":7,"nodeType":"139","messageId":"140","endLine":31,"endColumn":15},{"ruleId":"137","severity":1,"message":"156","line":6,"column":22,"nodeType":"139","messageId":"140","endLine":6,"endColumn":31},{"ruleId":"137","severity":1,"message":"157","line":3,"column":10,"nodeType":"139","messageId":"140","endLine":3,"endColumn":21},{"ruleId":"137","severity":1,"message":"149","line":4,"column":10,"nodeType":"139","messageId":"140","endLine":4,"endColumn":21},{"ruleId":"137","severity":1,"message":"158","line":1,"column":10,"nodeType":"139","messageId":"140","endLine":1,"endColumn":19},{"ruleId":"159","severity":1,"message":"160","line":6,"column":18,"nodeType":"161","endLine":6,"endColumn":46},{"ruleId":"151","severity":1,"message":"162","line":13,"column":8,"nodeType":"139","endLine":13,"endColumn":20},{"ruleId":"151","severity":1,"message":"163","line":13,"column":8,"nodeType":"139","endLine":13,"endColumn":20,"suggestions":"164"},"no-native-reassign",["165"],"no-negated-in-lhs",["166"],"no-unused-vars","'newState' is assigned a value but never used.","Identifier","unusedVar","no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","'getActionSetWatchedUser' is defined but never used.","'onUserUpdate' is defined but never used.","'useNavigate' is defined but never used.","'showSuccessMsg' is defined but never used.","'userService' is defined but never used.","'useState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["167"],"'queryStr' is assigned a value but never used.","'setFilter' is assigned a value but never used.","'utilService' is defined but never used.","'useEffect' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","React Hook useEffect has a missing dependency: 'callBack'. Either include it or remove the dependency array. If 'callBack' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["168"],"no-global-assign","no-unsafe-negation",{"desc":"169","fix":"170"},{"desc":"171","fix":"172"},"Update the dependencies array to be: [dispatch]",{"range":"173","text":"174"},"Update the dependencies array to be: [callBack]",{"range":"175","text":"176"},[632,634],"[dispatch]",[288,300],"[callBack]"]