[{"/Users/davidlaufer/sprint4/src/index.js":"1","/Users/davidlaufer/sprint4/src/store/store.js":"2","/Users/davidlaufer/sprint4/src/root-cmp.jsx":"3","/Users/davidlaufer/sprint4/src/store/user.reducer.js":"4","/Users/davidlaufer/sprint4/src/store/stay.reducer.js":"5","/Users/davidlaufer/sprint4/src/store/order.reducer.js":"6","/Users/davidlaufer/sprint4/src/store/review.reducer.js":"7","/Users/davidlaufer/sprint4/src/routes.js":"8","/Users/davidlaufer/sprint4/src/services/user.service.js":"9","/Users/davidlaufer/sprint4/src/cmps/app-header.jsx":"10","/Users/davidlaufer/sprint4/src/cmps/app-footer.jsx":"11","/Users/davidlaufer/sprint4/src/services/event-bus.service.js":"12","/Users/davidlaufer/sprint4/src/store/review.actions.js":"13","/Users/davidlaufer/sprint4/src/services/async-storage.service.js":"14","/Users/davidlaufer/sprint4/src/pages/bnb-app.jsx":"15","/Users/davidlaufer/sprint4/src/cmps/header-filter.jsx":"16","/Users/davidlaufer/sprint4/src/cmps/header-profile.jsx":"17","/Users/davidlaufer/sprint4/src/services/review.service.js":"18","/Users/davidlaufer/sprint4/src/store/stay.actions.js":"19","/Users/davidlaufer/sprint4/src/cmps/stay-filter.jsx":"20","/Users/davidlaufer/sprint4/src/cmps/stay-list.jsx":"21","/Users/davidlaufer/sprint4/src/services/stay.service.js":"22","/Users/davidlaufer/sprint4/src/services/util.service.js":"23","/Users/davidlaufer/sprint4/src/hooks/useFormRegister.js":"24","/Users/davidlaufer/sprint4/src/cmps/stay-preview.jsx":"25","/Users/davidlaufer/sprint4/src/hooks/useEffectUpdate.js":"26","/Users/davidlaufer/sprint4/src/pages/stay-details.jsx":"27","/Users/davidlaufer/sprint4/src/pages/add-edit-stay.jsx":"28","/Users/davidlaufer/sprint4/src/cmps/reserve.jsx":"29","/Users/davidlaufer/sprint4/src/cmps/calender.jsx":"30","/Users/davidlaufer/sprint4/src/services/order.service.js":"31","/Users/davidlaufer/sprint4/src/store/order.actions.js":"32","/Users/davidlaufer/sprint4/src/pages/reserve-summary.jsx":"33","/Users/davidlaufer/sprint4/src/cmps/calc-reserve.jsx":"34","/Users/davidlaufer/sprint4/src/cmps/stay-review.jsx":"35","/Users/davidlaufer/sprint4/src/cmps/expanded-filter.jsx":"36"},{"size":790,"mtime":1663249118004,"results":"37","hashOfConfig":"38"},{"size":1089,"mtime":1663319141188,"results":"39","hashOfConfig":"38"},{"size":860,"mtime":1663631808422,"results":"40","hashOfConfig":"38"},{"size":1393,"mtime":1663167552845,"results":"41","hashOfConfig":"38"},{"size":1839,"mtime":1663515847712,"results":"42","hashOfConfig":"38"},{"size":263,"mtime":1663494704751,"results":"43","hashOfConfig":"38"},{"size":647,"mtime":1663167552844,"results":"44","hashOfConfig":"38"},{"size":620,"mtime":1663631658235,"results":"45","hashOfConfig":"38"},{"size":3176,"mtime":1663249279319,"results":"46","hashOfConfig":"38"},{"size":925,"mtime":1663571585325,"results":"47","hashOfConfig":"38"},{"size":422,"mtime":1663500250711,"results":"48","hashOfConfig":"38"},{"size":1235,"mtime":1663167552837,"results":"49","hashOfConfig":"38"},{"size":1516,"mtime":1663167552844,"results":"50","hashOfConfig":"38"},{"size":2080,"mtime":1663167552836,"results":"51","hashOfConfig":"38"},{"size":1379,"mtime":1663631658232,"results":"52","hashOfConfig":"38"},{"size":117,"mtime":1663631658226,"results":"53","hashOfConfig":"38"},{"size":111,"mtime":1663500250713,"results":"54","hashOfConfig":"38"},{"size":1864,"mtime":1663249463032,"results":"55","hashOfConfig":"38"},{"size":4054,"mtime":1663317879408,"results":"56","hashOfConfig":"38"},{"size":2772,"mtime":1663632035442,"results":"57","hashOfConfig":"38"},{"size":396,"mtime":1663631658227,"results":"58","hashOfConfig":"38"},{"size":3406,"mtime":1663631658237,"results":"59","hashOfConfig":"38"},{"size":1255,"mtime":1663528966097,"results":"60","hashOfConfig":"38"},{"size":2347,"mtime":1663500250715,"results":"61","hashOfConfig":"38"},{"size":631,"mtime":1663631658228,"results":"62","hashOfConfig":"38"},{"size":308,"mtime":1663500250715,"results":"63","hashOfConfig":"38"},{"size":9394,"mtime":1663625187639,"results":"64","hashOfConfig":"38"},{"size":1875,"mtime":1663500250716,"results":"65","hashOfConfig":"38"},{"size":8140,"mtime":1663623019355,"results":"66","hashOfConfig":"38"},{"size":1146,"mtime":1663492828063,"results":"67","hashOfConfig":"38"},{"size":1963,"mtime":1663442741724,"results":"68","hashOfConfig":"38"},{"size":1033,"mtime":1663494913111,"results":"69","hashOfConfig":"38"},{"size":408,"mtime":1663495867687,"results":"70","hashOfConfig":"38"},{"size":1494,"mtime":1663623156167,"results":"71","hashOfConfig":"38"},{"size":1701,"mtime":1663631369601,"results":"72","hashOfConfig":"38"},{"size":919,"mtime":1663631658226,"results":"73","hashOfConfig":"38"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},"1bcx9lh",{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"76"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"76"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"76"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"76"},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"76"},{"filePath":"118","messages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"120","messages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122"},{"filePath":"123","messages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127"},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"76"},{"filePath":"133","messages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135"},{"filePath":"136","messages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"76"},{"filePath":"139","messages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141"},{"filePath":"142","messages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"76"},{"filePath":"145","messages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"76"},{"filePath":"148","messages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"76"},{"filePath":"151","messages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"76"},{"filePath":"154","messages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"156","messages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"158","messages":"159","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"160","messages":"161","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164"},"/Users/davidlaufer/sprint4/src/index.js",[],["165","166"],"/Users/davidlaufer/sprint4/src/store/store.js",[],"/Users/davidlaufer/sprint4/src/root-cmp.jsx",["167","168"],"import React from \"react\";\nimport { Routes, Route, useParams } from 'react-router'\n// import { AppHeader } from \"./cmps/app-header\";\nimport routes from './routes'\nimport { AppHeader } from './cmps/app-header'\nimport { AppFooter } from './cmps/app-footer'\nimport { StayFilter } from \"./cmps/stay-filter\";\n\n\nexport class RootCmp extends React.Component {\n  \n  render() {\n  \n    return (\n      <div className={(window.location.href.includes('details')) ? \"main-container-details\" : \"main-container\"}>\n        <AppHeader />\n        {/* <StayFilter/> */}\n        <main>\n          <Routes>\n            {routes.map(route => <Route key={route.path} exact={true} element={route.component} path={route.path} />)}\n            {/* <Route path=\"user/:id\" element={<UserDetails />} /> */}\n          </Routes>\n        </main>\n        <AppFooter />\n      </div>\n    )\n    }\n}\n","/Users/davidlaufer/sprint4/src/store/user.reducer.js",[],"/Users/davidlaufer/sprint4/src/store/stay.reducer.js",["169","170"],"const initialState = {\n    stays: [],\n    filterBy: null,\n    isFilterOpen: false\n}\nexport function stayReducer(state = initialState, action) {\n    var newState = state\n    var stays\n    var stay\n    var isFilterOpen\n    switch (action.type) {\n        case 'SET_STAYS':\n            return { ...state, stays: action.stays }\n\n        case 'REMOVE_STAY':\n            const lastRemovedStay = state.stays.find(stay => stay._id === action.stayId)\n            stays = state.stays.filter(stay => stay._id !== action.stayId)\n            return { ...state, stays, lastRemovedStay }\n\n        case 'ADD_STAY':\n            return { ...state, stays: [...state.stays, action.stay] }\n\n        case 'UPDATE_STAY':\n            stays = state.stays.map(stay => (stay._id === action.stay._id) ? action.stay : stay)\n            return { ...state, stays }\n\n        case 'ADD_TO_CART':\n            return { ...state, stay: [...state.stay, action.stay] }\n\n        case 'REMOVE_FROM_CART':\n            stay = state.stay.filter(stay => stay._id !== action.stayId)\n            return { ...state, stay }\n\n        case 'SET_ISOPENFILTER':\n            isFilterOpen = action.isFilterOpen\n            return { ...state, isFilterOpen}\n\n        // case 'CLEAR_CART':\n        //     return  { ...state, stay: []}\n        //     \n        case 'StayUNDO_REMOVE_CART':\n            if (state.lastRemovedStay) {\n                return { ...state, stays: [...state.stays, state.lastRemovedStay], lastRemovedStay: null }\n            }\n\n        case 'SET_FILTER_BY':\n            return { ...state, filterBy: { ...action.filterBy } }\n        default:\n            return state;\n    }\n    // For debug:\n    // window.stayState = newState\n    // console.log('Prev State:', state)\n    // console.log('Action:', action)\n    // console.log('New State:', newState)\n    // return newState\n\n}\n","/Users/davidlaufer/sprint4/src/store/order.reducer.js",[],"/Users/davidlaufer/sprint4/src/store/review.reducer.js",[],"/Users/davidlaufer/sprint4/src/routes.js",[],"/Users/davidlaufer/sprint4/src/services/user.service.js",["171","172"],"import { storageService } from './async-storage.service'\n// import { httpService } from './http.service'\nimport { getActionSetWatchedUser } from '../store/review.actions'\n// import { socketService, SOCKET_EVENT_USER_UPDATED, SOCKET_EMIT_USER_WATCH } from './socket.service'\nimport { showSuccessMsg } from '../services/event-bus.service'\n\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\n\nexport const userService = {\n    login,\n    logout,\n    signup,\n    getLoggedinUser,\n    saveLocalUser,\n    getUsers,\n    getById,\n    remove,\n    update,\n    changeScore\n}\n\nwindow.userService = userService\n\n\nfunction getUsers() {\n    return storageService.query('user')\n    // return httpService.get(`user`)\n}\n\nfunction onUserUpdate(user) {\n    showSuccessMsg(`This user ${user.fullname} just got updated from socket, new score: ${user.score}`)\n}\n\nasync function getById(userId) {\n    const user = await storageService.get('user', userId)\n    // const user = await httpService.get(`user/${userId}`)\n\n    // socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\n    // socketService.off(SOCKET_EVENT_USER_UPDATED, onUserUpdate)\n    // socketService.on(SOCKET_EVENT_USER_UPDATED, onUserUpdate)\n\n    return user\n}\nfunction remove(userId) {\n    return storageService.remove('user', userId)\n    // return httpService.delete(`user/${userId}`)\n}\n\nasync function update(user) {\n    await storageService.put('user', user)\n    // user = await httpService.put(`user/${user._id}`, user)\n    // Handle case in which admin updates other user's details\n    if (getLoggedinUser()._id === user._id) saveLocalUser(user)\n    return user;\n}\n\nasync function login(userCred) {\n    const users = await storageService.query('user')\n    const user = users.find(user => user.username === userCred.username)\n    // const user = await httpService.post('auth/login', userCred)\n    if (user) {\n        // socketService.login(user._id)\n        return saveLocalUser(user)\n    }\n}\nasync function signup(userCred) {\n    userCred.score = 10000;\n    const user = await storageService.post('user', userCred)\n    // const user = await httpService.post('auth/signup', userCred)\n    // socketService.login(user._id)\n    return saveLocalUser(user)\n}\nasync function logout() {\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\n    // socketService.logout()\n    // return await httpService.post('auth/logout')\n}\n\nasync function changeScore(by) {\n    const user = getLoggedinUser()\n    if (!user) throw new Error('Not loggedin')\n    user.score = user.score + by || by\n    await update(user)\n    return user.score\n}\n\n\nfunction saveLocalUser(user) {\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\n    return user\n}\n\nfunction getLoggedinUser() {\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER))\n}\n\n\n// ;(async ()=>{\n//     await userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 10000, isAdmin: false})\n//     await userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 10000, isAdmin: true})\n//     await userService.signup({fullname: 'Muki G', username: 'muki', password:'123', score: 10000})\n// })()\n\n\n\n","/Users/davidlaufer/sprint4/src/cmps/app-header.jsx",["173"],"import { NavLink, useNavigate } from 'react-router-dom'\n\nimport { HeaderFilter } from './header-filter'\nimport { HeaderProfile } from './header-profile'\n\nimport logo from '../assets/img/logo48.png'\n\nexport function AppHeader() {\n\n    return (\n        <header className='app-header flex'>\n            <section className='container flex'>\n                <NavLink to='/'>\n                    <div className='logo-container flex'>\n                        <img src={logo} alt='logo' style={{ maxWidth: '37px' }} />\n                        <span>idebnb</span>\n                    </div>\n                </NavLink>\n                <HeaderFilter />\n                <div className='flex'>\n                <NavLink to='edit'>\n                    <span className='become-host-link'>Become a host</span>\n                </NavLink>\n                <HeaderProfile />\n                </div>\n            </section>\n        </header>\n    )\n}","/Users/davidlaufer/sprint4/src/cmps/app-footer.jsx",[],"/Users/davidlaufer/sprint4/src/services/event-bus.service.js",[],"/Users/davidlaufer/sprint4/src/store/review.actions.js",["174","175"],"import { showSuccessMsg } from '../services/event-bus.service'\nimport { reviewService } from '../services/review.service'\nimport { userService } from '../services/user.service'\n\n// Action Creators\nexport function getActionRemoveReview(reviewId) {\n  return { type: 'REMOVE_REVIEW', reviewId }\n}\nexport function getActionAddReview(review) {\n  return { type: 'ADD_REVIEW', review }\n}\nexport function getActionSetWatchedUser(user) {\n  return { type: 'SET_WATCHED_USER', user }\n}\n\nexport function loadReviews() {\n  return async dispatch => {\n    try {\n      const reviews = await reviewService.query()\n      dispatch({ type: 'SET_REVIEWS', reviews })\n\n    } catch (err) {\n      console.log('ReviewActions: err in loadReviews', err)\n    }\n  }\n}\n\nexport function addReview(review) {\n  return async dispatch => {\n    try {\n      const addedReview = await reviewService.add(review)\n      dispatch(getActionAddReview(addedReview))\n\n      // Change the score in user kept in sessionStorage\n      // userService.saveLocalUser(addedReview.byUser)\n      // const { score } = addedReview.byUser\n      // dispatch({ type: 'SET_SCORE', score })\n\n    } catch (err) {\n      console.log('ReviewActions: err in addReview', err)\n      throw err\n    }\n  }\n}\n\nexport function removeReview(reviewId) {\n  return async dispatch => {\n    try {\n      await reviewService.remove(reviewId)\n      dispatch(getActionRemoveReview(reviewId))\n    } catch (err) {\n      console.log('ReviewActions: err in removeReview', err)\n      throw err\n    }\n  }\n}\n","/Users/davidlaufer/sprint4/src/services/async-storage.service.js",[],"/Users/davidlaufer/sprint4/src/pages/bnb-app.jsx",["176","177"],"import React, { useEffect, useState } from 'react'\n// import { connect } from 'react-redux'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { loadStays, setFilterBy } from '../store/stay.actions'\nimport { StayList } from '../cmps/stay-list'\nimport { StayFilter } from '../cmps/stay-filter'\n// import { stayService } from '../services/stay.service'\n// import {eventBusService } from '../services/event-bus.service'\n\nexport const BnbApp = () => {\n    const { stays, isFilterOpen } = useSelector(state => state.stayModule)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(loadStays())\n    }, [])\n\n    const onChangeFilter = (filterBy) => {\n        dispatch(setFilterBy(filterBy))\n        dispatch(loadStays())\n    }\n\n    const onClickFilter = (ev) => {\n        ev.preventDefault()\n        dispatch({\n            type: 'SET_ISOPENFILTER',\n            isFilterOpen: !isFilterOpen\n        })\n        if (!isFilterOpen) dispatch(loadStays())\n    }\n    \n    if (!stays) return <div>Loading...</div>\n    return (\n        <section className={isFilterOpen ? 'filter-open bnb-app' : 'bnb-app'}>\n            <div onClick={onClickFilter} className='main-screen' ></div>\n            <StayFilter isFilterOpen={isFilterOpen} onChangeFilter={onChangeFilter} onClickFilter={onClickFilter} />\n            <StayList stays={stays} />\n        </section>\n    )\n}","/Users/davidlaufer/sprint4/src/cmps/header-filter.jsx",[],"/Users/davidlaufer/sprint4/src/cmps/header-profile.jsx",[],"/Users/davidlaufer/sprint4/src/services/review.service.js",["178"],"// import { httpService } from './http.service'\nimport { storageService } from './async-storage.service'\n// import { socketService, SOCKET_EVENT_REVIEW_ADDED, SOCKET_EVENT_REVIEW_ABOUT_YOU } from './socket.service'\nimport { getActionRemoveReview, getActionAddReview } from '../store/review.actions'\n\nconst reviewChannel = new BroadcastChannel('reviewChannel')\n\n// ;(() => {\n//   reviewChannel.addEventListener('message', (ev) => {\n//     store.dispatch(ev.data)\n//   })\n//   socketService.on(SOCKET_EVENT_REVIEW_ADDED, (review) => {\n//     console.log('GOT from socket', review)\n//     store.dispatch(getActionAddReview(review))\n//   })\n//   socketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, (review) => {\n//     showSuccessMsg(`New review about me ${review.txt}`)\n//   })\n// })()\n\n\n\nexport const reviewService = {\n  add,\n  query,\n  remove\n}\n\n\nfunction query(filterBy) {\n  var queryStr = (!filterBy) ? '' : `?name=${filterBy.name}&sort=anaAref`\n  // return httpService.get(`review${queryStr}`)\n  return storageService.query('review')\n}\n\nasync function remove(reviewId) {\n  // await httpService.delete(`review/${reviewId}`)\n  await storageService.remove('review', reviewId)\n  reviewChannel.postMessage(getActionRemoveReview(reviewId))\n\n\n}\nasync function add(review) {\n  // const addedReview = await httpService.post(`review`, review)\n\n  // review.byUser = userService.getLoggedinUser()\n  // review.aboutUser = await userService.getById(review.aboutUserId)\n  const addedReview = await storageService.post('review', review)\n\n  reviewChannel.postMessage(getActionAddReview(addedReview))\n\n  return addedReview\n}\n\n// This way, we can also subscribe to none-store data change\n// function subscribe(listener) {\n//   reviewChannel.addEventListener('message', listener)\n// }\n// function unsubscribe(listener) {\n//   reviewChannel.removeEventListener('message', listener)\n// }\n","/Users/davidlaufer/sprint4/src/store/stay.actions.js",[],"/Users/davidlaufer/sprint4/src/cmps/stay-filter.jsx",["179","180","181","182","183"],"import { ExpandedFilter } from './expanded-filter'\nimport filterImg from '../assets/img/filter-btn-img.png'\nimport amazingPools from '../assets/img/vector/amazing-pools.jpg'\nimport amazingViews from '../assets/img/vector/amazing-views.jpg'\nimport sharedHomes from '../assets/img/vector/shared-homes.jpg'\nimport surfing from '../assets/img/vector/surfing.jpg'\nimport React, { useEffect, useRef } from 'react'\n\nexport const StayFilter = (props) => {\n    const filter = useRef(null)\n    const filterContainer = useRef(null)\n    \n    useEffect(() => {\n        const filterObserver = new IntersectionObserver(onFilterObserved, {\n            rootMargin: \"-115px 0px 0px\",\n        });\n\n        filterObserver.observe(filter.current)\n\n        function onFilterObserved(entries) {\n            entries.forEach((entry) => {\n                // filterClassName =  entry.isIntersecting ? 'stay-filter full main-container' : 'stay-filter full main-container sticky'\n                // filter.current.style = entry.isIntersecting ? 'background-color: green;' : 'background-color: blue;';\n                filterContainer.current.className = entry.isIntersecting ? '' : 'fixed full main-container';\n                // filterContainer.current.style = entry.isIntersecting ? 'position: static' : 'position: fixed';\n                // filterContainer.current.style.position = entry.isIntersecting ? 'static' : 'fixed';\n                // filterContainer.current.style = entry.isIntersecting ? ' box-shadow: none; position:static;' : 'box-shadow: rgb(0 0 0 / 16%) 0 0 6px; position:fixed; background-color: white; min-width:85%;  padding: 10px '\n                console.log('isIntersecting:', entry.isIntersecting)\n                console.log('filter.current:', filter.current)\n            });\n        }\n    }, []);\n\n    const { onClickFilter, onChangeFilter, isFilterOpen } = props\n\n    return (\n        <section className='stay-filter full main-container' ref={filter}>\n            {/* ref={filter} */}\n            <div  ref={filterContainer}> \n            <div className={isFilterOpen ? 'filter-open filter-container ' : 'filter-container '}>\n                <div className='labels-container'>\n                    <div><img src={amazingPools} /></div>\n                    <div><img src={amazingViews} /></div>\n                    <div><img src={sharedHomes} /></div>\n                    <div><img src={surfing} /></div>\n\n                </div>\n                <button className='stay-filter-btn' onClick={onClickFilter}>\n                    <div><img src={filterImg} /></div>\n                    Filters\n                </button>\n                <ExpandedFilter onChangeFilter={onChangeFilter} onClickFilter={onClickFilter} />\n            </div>\n            </div>\n        </section>\n    )\n}","/Users/davidlaufer/sprint4/src/cmps/stay-list.jsx",[],"/Users/davidlaufer/sprint4/src/services/stay.service.js",["184"],"\nimport { storageService } from './async-storage.service.js'\nimport { utilService } from './util.service.js'\nimport { userService } from './user.service.js'\nconst fs = require('fs')\n// This file demonstrates how to use a BroadcastChannel to notify other browser tabs \n\nconst STORAGE_KEY = 'stay'\n\nvar gStays = require('../data/stay.json')\n\nexport const stayService = {\n    query,\n    getById,\n    save,\n    remove\n}\nwindow.cs = stayService\n\nfunction query(filterBy) {\n    return storageService.query(STORAGE_KEY).then(stays => {\n      if (!stays[0]){\n        gStays.forEach(stay => stay.reviews.map(review => review.rate = utilService.getRandomIntInclusive(3,5)))\n        stays = storageService.postMany(STORAGE_KEY, gStays).then(x => console.log(x))\n      }\n        if (filterBy) {\n            let { maxPrice, minPrice } = filterBy\n            if (!maxPrice) maxPrice = Infinity\n            if (!minPrice) minPrice = 0\n            stays = stays.filter(stay => stay.price <= maxPrice && stay.price >= minPrice)\n            return stays\n        }\n        return stays\n    }\n    )\n}\n\nfunction getById(stayId) {\n    return storageService.get(STORAGE_KEY, stayId)\n    // return axios.get(`/api/stay/${stayId}`)\n}\nasync function remove(stayId) {\n    await storageService.remove(STORAGE_KEY, stayId)\n}\nasync function save(stay) {\n    var savedStay\n    if (stay._id) {\n        savedStay = await storageService.put(STORAGE_KEY, stay)\n\n    } else {\n        // Later, owner is set by the backend\n        let newStay = _getEmptyStay()\n        newStay.name = stay.name\n        newStay.price =stay.price\n        console.log('newStay:', newStay)\n        gStays.push(newStay)\n        savedStay = await storageService.post(STORAGE_KEY, newStay)\n    }\n    return  _saveStayToFile()\n        .then(() => savedStay)\n}\n\nfunction _saveStayToFile() {\n  return new Promise((resolve, reject) => {\n      const data = JSON.stringify(gStays, null, 2)\n      fs.writeFile('data/stay.json', data, (err) => {\n          if (err) return reject('Cannot save to file')\n          resolve()\n      })\n  })\n}\n\nfunction _getEmptyStay(){\n    return     {\n        \"type\": \"House\",\n        \"imgUrls\": [\"https://a0.muscache.com/im/pictures/e83e702f-ef49-40fb-8fa0-6512d7e26e9b.jpg?aki_policy=large\", \"otherImg.jpg\"],\n        \"summary\": \"Fantastic duplex apartment with three bedrooms, located in the historic area of Porto, Ribeira (Cube)...\",\n        \"capacity\": 8,\n        \"amenities\": [\n          \"TV\",\n          \"Wifi\",\n          \"Kitchen\",\n          \"Smoking allowed\",\n          \"Pets allowed\",\n          \"Cooking basics\"\n        ],\n        \"host\": {\n          \"_id\": \"u101\",\n          \"fullname\": \"Davit Pok\",\n          \"imgUrl\": \"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small\",\n        },\n        \"loc\": {\n          \"country\": \"Portugal\",\n          \"countryCode\": \"PT\",\n          \"city\": \"Porto\",\n          \"address\": \"17 Kombo st\",\n          \"lat\": -8.61308,\n          \"lng\": 41.1413\n        },\n        \"reviews\": [\n          {\n            \"id\": \"madeId\",\n            \"txt\": \"Very helpful hosts. Cooked traditional...\",\n            \"rate\": 4,\n            \"by\": {\n              \"_id\": \"u102\",\n              \"fullname\": \"user2\",\n              \"imgUrl\": \"/img/img2.jpg\"\n            }\n          }\n        ],\n        \"likedByUsers\" : ['mini-user'] // for user-wishlist : use $in\n      }\n\n}\n\n\n","/Users/davidlaufer/sprint4/src/services/util.service.js",[],"/Users/davidlaufer/sprint4/src/hooks/useFormRegister.js",["185"],"import { useEffect, useState } from \"react\"\nimport { useEffectUpdate } from \"./useEffectUpdate\"\n\nexport const useFormRegister = (initialState, callBack) => {\n\n    const [fields, setFields] = useState(initialState)\n\n    useEffectUpdate(() => {\n        if (callBack) callBack(fields)\n    }, [fields])\n\n    const handleChange = ({ target }) => {\n        const field = target.name\n        let value = target.value\n\n        switch (target.type) {\n            case 'number':\n            case 'range':\n                value = +target.value || ''\n                break;\n            case 'checkbox':\n                value = target.checked\n                break;\n            case 'date':\n                value = new Date(value)\n                break;\n            case 'time':\n                const newDate = new Date()\n                const hours = value.split(':')[0]\n                const minutes = value.split(':')[1]\n                newDate.setHours(hours)\n                newDate.setMinutes(minutes)\n                value = newDate\n                break\n            default:\n                break\n        }\n        setFields(prevFields => ({ ...prevFields, [field]: value }))\n    }\n\n    const getFormattedDate = (value) => {\n        const valueDate = new Date(value)\n        return `${valueDate.getFullYear()}-${(valueDate.getMonth() + 1 + '').padStart(2, '0')}-${(valueDate.getDate() + '').padStart(2, '0')}`\n    }\n    const getFormattedTime = (value) => {\n        const valueTime = new Date(value)\n        return `${(valueTime.getHours() + '').padStart(2, '0')}:${(valueTime.getMinutes() + '').padStart(2, '0')}`\n    }\n    const register = (field, type = '', value) => { // value only used when type === 'radio'\n        const inputProp = {\n            onChange: handleChange,\n            name: field,\n            id: field,\n            value: fields[field],\n            type\n        }\n        if (type === 'checkbox') inputProp.checked = fields[field]\n        if (type === 'date') inputProp.value = getFormattedDate(fields[field])\n        if (type === 'time') inputProp.value = getFormattedTime(fields[field])\n        if (type === 'radio') {\n            inputProp.value = value\n            inputProp.id = value\n            inputProp.checked = fields[field] === value\n        }\n        return inputProp\n    }\n    return [register, setFields, fields]\n}","/Users/davidlaufer/sprint4/src/cmps/stay-preview.jsx",["186"],"import React from \"react\";\n\nexport function StayPreview({ stay }) {\n    return (\n        // <React.Fragment>\n            <div key={stay._id} className='stay-preview'>\n                <img src={stay.imgUrls[0]} />\n                <div>\n                    <p><span>{stay.loc.city}, {stay.loc.country}</span></p>\n                    <p>{stay.loc.address}, {stay.loc.city}</p>\n                    {/* <p>{stay.capacity.guests} beds</p> */}\n                    <p>Oct 12-18</p>\n                    <p className=\"price\"><span>${stay.price}</span> night</p>\n                </div>\n            </div>\n\n        // </React.Fragment>\n    )\n}","/Users/davidlaufer/sprint4/src/hooks/useEffectUpdate.js",["187","188"],"import { useEffect, useRef } from \"react\"\n\nexport const useEffectUpdate = (callBack, dependencies) => {\n    \n    const isFirst = useRef(true)\n\n    useEffect(()=>{\n        if (isFirst.current) {\n            isFirst.current = false\n            return\n        }   \n        callBack()\n    }, dependencies)\n    \n}","/Users/davidlaufer/sprint4/src/pages/stay-details.jsx",["189","190"],"import { useEffect } from \"react\"\nimport { useState } from \"react\"\nimport { useNavigate, useParams } from \"react-router-dom\"\nimport { Calender } from \"../cmps/calender\"\nimport { Reserve } from \"../cmps/reserve\"\nimport { stayService } from \"../services/stay.service\"\nimport { ReactComponent as Star } from '../assets/icons/star.svg';\nimport { ReactComponent as Heart } from '../assets/icons/heart.svg';\nimport { ReactComponent as Share } from '../assets/icons/share.svg';\nimport { ReactComponent as Footprint } from '../assets/icons/footprint.svg';\nimport { ReactComponent as Security } from '../assets/icons/security.svg';\nimport { ReactComponent as Location } from '../assets/icons/location.svg';\nimport { ReactComponent as User } from '../assets/icons/user.svg';\nimport wifi from '../assets/img/wifi.png'\nimport monitor from '../assets/img/monitor.png'\nimport kitchen from '../assets/img/kitchen-tools.png'\nimport hairDryer from '../assets/img/hair-dryer.png'\nimport hanger from '../assets/img/clothes-hanger.png'\nimport airConditioner from '../assets/img/air-conditioner.png'\nimport { Review } from \"../cmps/stay-review\"\n\nexport const StayDetails = () => {\n\n    const [stay, setStay] = useState(null)\n    const params = useParams()\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        loadStay()\n        // loadReviews()\n    }, [])\n\n    const loadStay = () => {\n        const stayId = params.id\n        stayService.getById(stayId).then((stay) => {\n            console.log('stay:', stay)\n            setStay(stay)\n            // setReviews(reviews)\n        })\n    }\n\n    const avgRate = () => {\n        let rates = stay.reviews.map(review => review.rate)\n        rates = rates.reduce((a, b) => a + b, 0)\n        console.log('rates:', rates)\n        return (rates / stay.reviews.length).toFixed(2)\n    }\n\n    if (!stay) return <div>Loading...</div>\n\n    return (\n        <div className=\"stay-details\">\n            <div className=\"header-details\">\n                <h1>{stay.name}</h1>\n                <div className=\"mini-details\">\n                    <div className=\"mini-info\">\n                        <span><Star /> {avgRate()}</span>&middot;\n                        <button className=\"review-amount\">{stay.reviews.length} reviews</button>&middot;\n                        <span className=\"country-code\">{stay.loc.countryCode},{stay.loc.country}</span>\n                    </div>\n                    <div className=\"details-actions\">\n                        <div className=\"share-details\"><button href=\"#\"><span><Share /></span>Share</button></div>\n                        <div className=\"save-details\"><button href=\"#\"><span><Heart /></span> Save</button></div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"img-details\">\n                <div className=\"main-img\">\n                    <img src={stay.imgUrls[0]} alt=\"\" srcSet=\"\" />\n                </div>\n                <div className=\"middle-top\">\n                    <img src={stay.imgUrls[1]} alt=\"\" srcSet=\"\" />\n                </div>\n                <div className=\"middle-bottom\">\n                    <img src={stay.imgUrls[2]} alt=\"\" srcSet=\"\" />\n                </div>\n                <div className=\"top-right\">\n                    <img src={stay.imgUrls[3]} alt=\"\" srcSet=\"\" />\n                </div>\n                <div className=\"bottom-right\">\n                    <img src={stay.imgUrls[4]} alt=\"\" srcSet=\"\" />\n                </div>\n            </div>\n            <div className=\"main-details\">\n                <div className=\"details-section\">\n                    <div className=\"mini-details\">\n                        <div className=\"stay-details\">\n                            <h2>{stay.roomType} hosted by {stay.host.fullname}</h2>\n                            <sapn>{stay.capacity} guests</sapn>&middot;\n                            <sapn>{stay.bathrooms} bathrooms</sapn>&middot;\n                            <sapn>{stay.bedrooms} bedrooms</sapn>\n                        </div>\n                        <div><User /></div>\n                    </div>\n                    <hr />\n                    <div className=\"some-keys\">\n                        <div className=\"guest-impression\">\n                            <div className=\"logo\"><Location /></div>\n                            <div className=\"txt\">\n                                <div className=\"header\">Great location</div>\n                                <div className=\"description\">100% of recent guests gave the location a 5-star rating.</div>\n                            </div>\n                        </div>\n                        <div className=\"guest-impression\">\n                            <div className=\"logo\"><Security /></div>\n                            <div className=\"txt\">\n                                <div className=\"header\">Great check-in experience</div>\n                                <div className=\"description\">100% of recent guests gave the check-in process a 5-star rating.</div>\n                            </div>\n                        </div>\n                        <div className=\"guest-impression\">\n                            <div className=\"logo\"><Footprint /></div>\n                            <div className=\"txt\">\n                                <div className=\"header\">Furry friends welcome</div>\n                                <div className=\"description\">Bring your pets along for the stay.</div>\n                            </div>\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"air-cover\">\n                        <h2 className=\"air-cover-img\">\n                            <img src=\"https://a0.muscache.com/im/pictures/54e427bb-9cb7-4a81-94cf-78f19156faad.jpg\" alt=\"\" />\n                        </h2>\n                        <div className=\"air-cover-description\">\n                            Every booking includes free protection from Host cancellations, listing inaccuracies, and other issues like trouble checking in.\n                        </div>\n                        <button aria-label=\"Learn more\" type=\"button\" class=\"learn-more-link\">Learn more</button>\n                    </div>\n                    <hr />\n                    <div className=\"more-description\">\n                        <div className=\"summary\">{stay.summary}</div>\n                        <button className=\"show-more\">Show more </button>\n                    </div>\n                    <hr />\n                    <div className=\"amenities-section\">\n                        <div className=\"amenities-header\">\n                            <h2>What this place offers</h2>\n                        </div>\n                        <div className=\"amenities\">\n                            <div>\n                                <div className=\"amenitie\">\n                                    <div>Wifi</div>\n                                    <div className=\"wifi-icon\"><img src={wifi} alt=\"\"/></div>\n                                </div>\n                            </div>\n                            <div>\n                                <div className=\"amenitie\">\n                                    <div>Kitchen</div>\n                                    <div className=\"kitchen-icon\"><img src={kitchen} alt=\"\"/></div>\n                                </div>\n                            </div>\n                            <div>\n                                <div className=\"amenitie\">\n                                    <div>hair-dryer</div>\n                                    <div className=\"hairDryer-icon\"><img src={hairDryer} alt=\"\"/></div>\n                                </div>\n                            </div>\n                            <div>\n                                <div className=\"amenitie\">\n                                    <div>Hanger</div>\n                                    <div className=\"hanger-icon\"><img src={hanger} alt=\"\"/></div>\n                                </div>\n                            </div>\n                            <div>\n                                <div className=\"amenitie\">\n                                    <div>Air-Conditioner</div>\n                                    <div className=\"airConditioner-icon\"><img src={airConditioner} alt=\"\"/></div>\n                                </div>\n                            </div>\n                            <div>\n                                <div className=\"amenitie\">\n                                    <div>Monitor</div>\n                                    <div className=\"monitor-icon\"><img src={monitor} alt=\"\"/></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"date-picker\">\n                        <Calender stay={stay} />\n                    </div>\n                </div>\n\n                <div className=\"reserve-section\">\n                    <div className=\"reserve-form\">\n                        <div className=\"reserve\">\n                            <Reserve stay={stay} avgRate={avgRate}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"reviews-section\">\n                <Review stay={stay} avgRate={avgRate}/>\n            </div>\n        </div>\n    )\n\n}","/Users/davidlaufer/sprint4/src/pages/add-edit-stay.jsx",["191","192","193","194","195"],"// import { upload } from '@testing-library/user-event/dist/upload'\nimport { useEffect, useState, useRef } from 'react'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\nimport { useFormRegister } from '../hooks/useFormRegister'\nimport { addStay, updateStay } from '../store/stay.actions'\n\n\nexport const StayEdit = () => {\n\n    const params = useParams()\n    const navigate = useNavigate()\n    const dispatch = useDispatch()\n\n\n    const [register, setStay, stay] = useFormRegister({\n        name: '',\n        price: ''\n        // img: null\n    })\n\n    const inputRef = useRef()\n\n    useEffect(() => {\n        inputRef.current.focus()\n        const stayId = params.stayId\n        if (!stayId) return\n        // stayService\n        //     .getById(stayId)\n        //     .then((stay) => {\n        //         setStay(stay)\n        //     })\n        //     .catch((err) => {\n        //         console.log('err:', err)\n        //     })\n    }, [])\n\n    const onSaveStay = (ev) => {\n        ev.preventDefault()\n        if (stay._id) {\n            try {\n                const res = dispatch(updateStay(stay))\n                navigate('/')\n            } catch (err) {\n                console.error('ERROR!', err)\n            }\n        } else {\n            try {\n                const res = dispatch(addStay(stay))\n                navigate('/')\n            } catch (err) {\n                console.error('ERROR!', err)\n            }\n        }\n\n    }\n\n    return (\n        <form onSubmit={onSaveStay}>\n            <h1>{stay._id ? 'Edit' : 'Add'} stay</h1>\n\n            <label htmlFor=\"name\">name</label>\n            <input ref={inputRef} {...register('name', 'text')} />\n\n            <label htmlFor=\"price\">Price</label>\n            <input {...register('price', 'number')} />\n            <button>submit</button>\n        </form>\n    )\n}","/Users/davidlaufer/sprint4/src/cmps/reserve.jsx",["196","197","198","199","200","201"],"import { useState } from \"react\"\nimport { useEffect } from \"react\"\nimport { useRef } from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport { useSelector } from \"react-redux\"\nimport { Link, useNavigate } from \"react-router-dom\"\nimport { orderService } from \"../services/order.service\"\nimport { savedOrder, saveOrder } from \"../store/order.actions\"\nimport { ReactComponent as Star } from '../assets/icons/star.svg';\nimport { CalcReserve } from \"./calc-reserve\"\n\nexport const Reserve = ({ stay, avgRate }) => {\n\n    let { order } = useSelector(state => state.orderModule)\n    const [isOpen, setIsOpen] = useState(false)\n    const dispatch = useDispatch()\n\n\n    const [guestsCount, setGuestsCount] = useState({\n        adults: 0,\n        children: 0,\n        infants: 0,\n        pets: 0,\n    })\n\n    const toggleMenu = () => {\n        setIsOpen(!isOpen)\n    }\n\n\n    const onClick = (category, action) => {\n        action = action === '+' ? 1 : -1\n        if (guestsCount[category] + action < 0 || action > stay.capacity) return\n        guestsCount[category] += action\n        setGuestsCount(prevGuestsCount => ({ ...prevGuestsCount }))\n        console.log(guestsCount)\n    }\n\n    const submitReserve = () => {\n        const guests = guestsCount\n        order = { ...order, guests }\n        console.log('order:', order)\n        dispatch(saveOrder(order))\n    }\n\n    const mouseMove = (e) => {\n        const rect = e.target.getBoundingClientRect();\n        const mouseX = e.pageX - e.currentTarget.offsetLeft;\n        const mouseY = e.pageY - e.currentTarget.offsetTop;\n        e.currentTarget.style.cssText = `\n    --mouse-x: ${mouseX}; \n    --mouse-y: ${mouseY};\n  `;\n    }\n\n\n\n    return (\n        <div className=\"reserve-form\">\n            <div className=\"reserve-header\">\n                <div>\n                    <div><span className=\"price\">${stay.price}</span><span> night</span></div>\n                </div>\n                <div className=\"reserve-rate\">\n                    <div><span><Star /></span><span> {avgRate()}</span></div>&middot;\n                    <button>{stay.reviews.length} reviews</button>\n                </div>\n            </div>\n\n            <div className=\"reserve-info\">\n                <div className=\"pick-dates\">\n                    <div className=\"dates-first-layer\">\n                        <div className=\"dates-second-layer\">\n                            <button className=\"reserve-dates\">\n                                <div className=\"check-in\">\n                                    <div className=\"txt-reserve\">Check-in</div>\n                                    <div className=\"date-reserve\">{order.startDate}</div>\n                                </div>\n                                <div className=\"check-out\">\n                                    <div className=\"txt-reserve\">Check-out</div>\n                                    <div className=\"date-reserve\">{order.endDate}</div>\n                                </div>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"guest-info\">\n                    <div className=\"guest-first-layer\">\n                        <div className=\"guest-details-layer\">\n                            <div className=\"guest-final-details\">\n                                <button className=\"guests-details\" onClick={() => toggleMenu()}>\n                                    <div className=\"title\">Guests</div>\n                                    <div className=\"saddf\">\n                                        <div className=\"guest-description\">\n                                            {guestsCount.adults + guestsCount.children} guest\n                                            {(guestsCount.infants) ? ',' + guestsCount.infants + 'infants' : ''}\n                                            {(guestsCount.pets) ? ',' + guestsCount.pets + 'pets' : ''}\n                                        </div>\n                                    </div>\n\n                                </button>\n                            </div>\n                            {isOpen &&\n\n                                <div className=\"select-guests\">\n                                    <div className=\"pick-guest-account\">\n                                        <div>\n                                            <h3>Adults</h3>\n                                            <h5>Age 13+</h5>\n                                        </div>\n                                        <div>\n                                            <span onClick={() => onClick('adults', '+')}>+</span>\n                                            <span>{guestsCount.adults}</span>\n                                            <span onClick={() => onClick('adults', '-')}>-</span>\n                                        </div>\n                                    </div>\n                                    <div className=\"pick-guest-account\">\n                                        <div>\n                                            <h3>Children</h3>\n                                            <h5>Ages 2-12</h5>\n                                        </div>\n                                        <div>\n                                            <span onClick={() => onClick('children', '+')}>+</span>\n                                            <span>{guestsCount.children}</span>\n                                            <span onClick={() => onClick('children', '-')}>-</span>\n                                        </div>\n                                    </div>\n                                    <div className=\"pick-guest-account\">\n                                        <div>\n                                            <h3>Infants</h3>\n                                            <h5>Under 2</h5>\n                                        </div>\n                                        <div>\n                                            <span onClick={() => onClick('infants', '+')}>+</span>\n                                            <span>{guestsCount.infants}</span>\n                                            <span onClick={() => onClick('infants', '-')}>-</span>\n                                        </div>\n                                    </div>\n                                    <div className=\"pick-guest-account\">\n                                        <div>\n                                            <h3>Pets</h3>\n                                        </div>\n                                        <div>\n                                            <span onClick={() => onClick('pets', '+')}>+</span>\n                                            <span>{guestsCount.pets}</span>\n                                            <span onClick={() => onClick('pets', '-')}>-</span>\n                                        </div>\n                                    </div>\n                                    <button onClick={() => toggleMenu()}>close</button>\n                                </div>\n                            }\n                        </div>\n\n                    </div>\n\n\n                </div>\n            </div>\n\n            <div className=\"reserve-btn-section\">\n                <Link to=\"/summary\" props={{}}>\n\n                    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-100\">\n                        <button onMouseMove={(e) => mouseMove(e)} onClick={() => submitReserve()} id=\"gradientBtn\">\n                            <span className=\"absolute inset-0 gradient opacity-0 transition-opacity duration-300\"></span>\n                            <span className=\"relative z-1 pointer-events-none\">Let's Go</span>\n                        </button>\n                    </div>\n\n                </Link>\n            </div>\n\n            {order.endDate &&\n                <section>\n                    <div className=\"msg-txt\">\n                        <div>You won't be charged yet</div>\n                    </div>\n                    <CalcReserve stay={stay} />\n                </section>\n            }\n\n        </div>\n    )\n}","/Users/davidlaufer/sprint4/src/cmps/calender.jsx",["202","203","204","205","206"],"import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { useFormRegister } from \"../hooks/useFormRegister\";\nimport { orderService } from \"../services/order.service\";\nimport { saveDates, savedOrder } from \"../store/order.actions\";\n\n\nexport const Calender = ({stay}) => {\n  const [register, setStartDate, date] = useFormRegister({\n    startDate: '',\n    endDate: ''\n  });\n\n  \n  const dispatch = useDispatch()\n\n  \n\n  useEffect(() => { \n    \n  }, [])\n\n  const setDate = (ev) => {\n    ev.preventDefault()\n    const startDate = new Date(date.startDate).toLocaleDateString()\n    const endDate = new Date(date.endDate).toLocaleDateString()\n    dispatch(saveDates(stay._id, startDate, endDate))\n\n  }\n\n  return (\n    <section>\n      <form onSubmit={(ev) => setDate(ev)}>\n\n        <label htmlFor=\"start\">Start date:</label>\n        <input {...register('startDate', 'date')} />\n\n        <label htmlFor=\"end\">End date:</label>\n        <input {...register('endDate', 'date')} />\n\n        <button>set</button>\n      </form>\n    </section>\n  )\n};\n\n","/Users/davidlaufer/sprint4/src/services/order.service.js",["207"],"\nimport { storageService } from './async-storage.service.js'\nimport { utilService } from './util.service.js'\nimport { userService } from './user.service.js'\n\n// This file demonstrates how to use a BroadcastChannel to notify other browser tabs \n\nconst STORAGE_KEY = 'order'\n\nexport const orderService = {\n    query,\n    getById,\n    save,\n    remove,\n    createOrder\n}\nwindow.cs = orderService\n\nfunction query(filterBy) {\n    return storageService.query(STORAGE_KEY).then(orders => {\n        \n        // if(!orders) return _getEmptyOrder()\n        return orders\n    }\n    )\n}\n\nfunction createOrder(hostId, startDate, endDate){\n     const order = _getNewOrder(hostId, startDate, endDate)\n     save(order)\n     return order\n}\n\nfunction getById(orderId) {\n    return storageService.get(STORAGE_KEY, orderId)\n    // return axios.get(`/api/order/${orderId}`)\n}\nasync function remove(orderId) {\n    await storageService.remove(STORAGE_KEY, orderId)\n}\n\nasync function save(order) {\n    var savedOrder\n    if (order._id) {\n        savedOrder = await storageService.put(STORAGE_KEY, order)\n\n    } else {\n        // Later, owner is set by the backend\n        let newOrder = _getNewOrder()\n        newOrder.name = order.name\n        newOrder.price = order.price\n        console.log('newOrder:', newOrder)\n        savedOrder = await storageService.post(STORAGE_KEY, newOrder)\n    }\n    return savedOrder\n}\n\nfunction _getNewOrder(hostId='', startDate='', endDate='') {\n    return {\n        \"_id\": utilService.makeId(),\n        hostId,\n        \"createdAt\": Date.now(),\n        \"buyer\": {\n            \"_id\": \"u101\",\n            \"fullname\": \"User 1\"\n        },\n        \"totalPrice\": 160,\n        startDate,\n        endDate,\n        \"guests\": {\n            \"adults\": 2,\n            \"kids\": 1\n        },\n        \"stay\": {\n            \"_id\": \"h102\",\n            \"name\": \"House Of Uncle My\",\n            \"price\": 80.00\n        },\n        \"status\": \"pending\"\n    }\n\n}\n\n\n// TEST DATA\n\n\n","/Users/davidlaufer/sprint4/src/store/order.actions.js",[],"/Users/davidlaufer/sprint4/src/pages/reserve-summary.jsx",[],"/Users/davidlaufer/sprint4/src/cmps/calc-reserve.jsx",[],"/Users/davidlaufer/sprint4/src/cmps/stay-review.jsx",[],"/Users/davidlaufer/sprint4/src/cmps/expanded-filter.jsx",["208","209"],"import { useFormRegister } from '../hooks/useFormRegister'\n\n\nexport const ExpandedFilter = (props) => {\n\n    const [register, setFilter, filterBy] = useFormRegister({\n        name: '',\n        maxPrice: 1610,\n        minPrice: 50,\n        labels: '',\n    }, props.onChangeFilter)\n\n    const { onClickFilter } = props\n\n    return (\n        <form className='expanded-filter' onSubmit={onClickFilter}>\n           \n            <h1>Price range</h1>\n            <section className='range-slider'>\n                <input min=\"0\" max=\"1800\"  {...register('minPrice', 'range')} />\n                <input min=\"0\" max=\"1600\"  {...register('maxPrice', 'range')} />\n            </section>\n            <div className='number-price-filter'>\n                <input {...register('minPrice', 'number')} /> - <input {...register('maxPrice', 'number')} />\n            </div>\n            <button>show homes</button>\n        </form>\n    )\n}\n",{"ruleId":"210","replacedBy":"211"},{"ruleId":"212","replacedBy":"213"},{"ruleId":"214","severity":1,"message":"215","line":2,"column":25,"nodeType":"216","messageId":"217","endLine":2,"endColumn":34},{"ruleId":"214","severity":1,"message":"218","line":7,"column":10,"nodeType":"216","messageId":"217","endLine":7,"endColumn":20},{"ruleId":"214","severity":1,"message":"219","line":7,"column":9,"nodeType":"216","messageId":"217","endLine":7,"endColumn":17},{"ruleId":"220","severity":1,"message":"221","line":46,"column":9,"nodeType":"222","messageId":"223","endLine":47,"endColumn":66},{"ruleId":"214","severity":1,"message":"224","line":3,"column":10,"nodeType":"216","messageId":"217","endLine":3,"endColumn":33},{"ruleId":"214","severity":1,"message":"225","line":30,"column":10,"nodeType":"216","messageId":"217","endLine":30,"endColumn":22},{"ruleId":"214","severity":1,"message":"226","line":1,"column":19,"nodeType":"216","messageId":"217","endLine":1,"endColumn":30},{"ruleId":"214","severity":1,"message":"227","line":1,"column":10,"nodeType":"216","messageId":"217","endLine":1,"endColumn":24},{"ruleId":"214","severity":1,"message":"228","line":3,"column":10,"nodeType":"216","messageId":"217","endLine":3,"endColumn":21},{"ruleId":"214","severity":1,"message":"229","line":1,"column":28,"nodeType":"216","messageId":"217","endLine":1,"endColumn":36},{"ruleId":"230","severity":1,"message":"231","line":17,"column":8,"nodeType":"232","endLine":17,"endColumn":10,"suggestions":"233"},{"ruleId":"214","severity":1,"message":"234","line":31,"column":7,"nodeType":"216","messageId":"217","endLine":31,"endColumn":15},{"ruleId":"235","severity":1,"message":"236","line":42,"column":26,"nodeType":"237","endLine":42,"endColumn":52},{"ruleId":"235","severity":1,"message":"236","line":43,"column":26,"nodeType":"237","endLine":43,"endColumn":52},{"ruleId":"235","severity":1,"message":"236","line":44,"column":26,"nodeType":"237","endLine":44,"endColumn":51},{"ruleId":"235","severity":1,"message":"236","line":45,"column":26,"nodeType":"237","endLine":45,"endColumn":47},{"ruleId":"235","severity":1,"message":"236","line":49,"column":26,"nodeType":"237","endLine":49,"endColumn":49},{"ruleId":"214","severity":1,"message":"228","line":4,"column":10,"nodeType":"216","messageId":"217","endLine":4,"endColumn":21},{"ruleId":"214","severity":1,"message":"238","line":1,"column":10,"nodeType":"216","messageId":"217","endLine":1,"endColumn":19},{"ruleId":"235","severity":1,"message":"236","line":7,"column":17,"nodeType":"237","endLine":7,"endColumn":46},{"ruleId":"230","severity":1,"message":"239","line":13,"column":8,"nodeType":"216","endLine":13,"endColumn":20},{"ruleId":"230","severity":1,"message":"240","line":13,"column":8,"nodeType":"216","endLine":13,"endColumn":20,"suggestions":"241"},{"ruleId":"214","severity":1,"message":"242","line":26,"column":11,"nodeType":"216","messageId":"217","endLine":26,"endColumn":19},{"ruleId":"230","severity":1,"message":"243","line":31,"column":8,"nodeType":"232","endLine":31,"endColumn":10,"suggestions":"244"},{"ruleId":"214","severity":1,"message":"229","line":2,"column":21,"nodeType":"216","messageId":"217","endLine":2,"endColumn":29},{"ruleId":"214","severity":1,"message":"245","line":16,"column":22,"nodeType":"216","messageId":"217","endLine":16,"endColumn":29},{"ruleId":"230","severity":1,"message":"246","line":36,"column":8,"nodeType":"232","endLine":36,"endColumn":10,"suggestions":"247"},{"ruleId":"214","severity":1,"message":"248","line":42,"column":23,"nodeType":"216","messageId":"217","endLine":42,"endColumn":26},{"ruleId":"214","severity":1,"message":"248","line":49,"column":23,"nodeType":"216","messageId":"217","endLine":49,"endColumn":26},{"ruleId":"214","severity":1,"message":"238","line":2,"column":10,"nodeType":"216","messageId":"217","endLine":2,"endColumn":19},{"ruleId":"214","severity":1,"message":"249","line":3,"column":10,"nodeType":"216","messageId":"217","endLine":3,"endColumn":16},{"ruleId":"214","severity":1,"message":"226","line":6,"column":16,"nodeType":"216","messageId":"217","endLine":6,"endColumn":27},{"ruleId":"214","severity":1,"message":"250","line":7,"column":10,"nodeType":"216","messageId":"217","endLine":7,"endColumn":22},{"ruleId":"214","severity":1,"message":"251","line":8,"column":10,"nodeType":"216","messageId":"217","endLine":8,"endColumn":20},{"ruleId":"214","severity":1,"message":"252","line":47,"column":15,"nodeType":"216","messageId":"217","endLine":47,"endColumn":19},{"ruleId":"214","severity":1,"message":"229","line":1,"column":17,"nodeType":"216","messageId":"217","endLine":1,"endColumn":25},{"ruleId":"214","severity":1,"message":"253","line":4,"column":10,"nodeType":"216","messageId":"217","endLine":4,"endColumn":21},{"ruleId":"214","severity":1,"message":"250","line":6,"column":10,"nodeType":"216","messageId":"217","endLine":6,"endColumn":22},{"ruleId":"214","severity":1,"message":"251","line":7,"column":21,"nodeType":"216","messageId":"217","endLine":7,"endColumn":31},{"ruleId":"214","severity":1,"message":"254","line":11,"column":20,"nodeType":"216","messageId":"217","endLine":11,"endColumn":32},{"ruleId":"214","severity":1,"message":"228","line":4,"column":10,"nodeType":"216","messageId":"217","endLine":4,"endColumn":21},{"ruleId":"214","severity":1,"message":"255","line":6,"column":22,"nodeType":"216","messageId":"217","endLine":6,"endColumn":31},{"ruleId":"214","severity":1,"message":"256","line":6,"column":33,"nodeType":"216","messageId":"217","endLine":6,"endColumn":41},"no-native-reassign",["257"],"no-negated-in-lhs",["258"],"no-unused-vars","'useParams' is defined but never used.","Identifier","unusedVar","'StayFilter' is defined but never used.","'newState' is assigned a value but never used.","no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","'getActionSetWatchedUser' is defined but never used.","'onUserUpdate' is defined but never used.","'useNavigate' is defined but never used.","'showSuccessMsg' is defined but never used.","'userService' is defined but never used.","'useState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["259"],"'queryStr' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useEffect' is defined but never used.","React Hook useEffect was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","React Hook useEffect has a missing dependency: 'callBack'. Either include it or remove the dependency array. If 'callBack' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["260"],"'navigate' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'loadStay'. Either include it or remove the dependency array.",["261"],"'setStay' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'params.stayId'. Either include it or remove the dependency array.",["262"],"'res' is assigned a value but never used.","'useRef' is defined but never used.","'orderService' is defined but never used.","'savedOrder' is defined but never used.","'rect' is assigned a value but never used.","'useSelector' is defined but never used.","'setStartDate' is assigned a value but never used.","'setFilter' is assigned a value but never used.","'filterBy' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"263","fix":"264"},{"desc":"265","fix":"266"},{"desc":"267","fix":"268"},{"desc":"269","fix":"270"},"Update the dependencies array to be: [dispatch]",{"range":"271","text":"272"},"Update the dependencies array to be: [callBack]",{"range":"273","text":"274"},"Update the dependencies array to be: [loadStay]",{"range":"275","text":"276"},"Update the dependencies array to be: [params.stayId]",{"range":"277","text":"278"},[630,632],"[dispatch]",[288,300],"[callBack]",[1344,1346],"[loadStay]",[990,992],"[params.stayId]"]